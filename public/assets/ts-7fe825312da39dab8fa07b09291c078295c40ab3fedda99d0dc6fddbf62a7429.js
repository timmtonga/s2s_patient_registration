function __$(t){return document.getElementById(t)}function padZeros(t,e){for(var i=parseInt(e)-String(t).length,r="",a=0;i>a;a++)r+="0";return r+=String(t)}function padZerosAfter(t){var e,i;if(e=void 0==t[1]?0:t[1],String(e).length<3)for(var r=3-String(e).length,a=0;r>a;a++)e+="0";return i=parseFloat(t[0]+"."+e).toFixed(3)}function checkCtrl(t){for(var e=t,i=e.offsetTop,r=e.offsetLeft+1,a=e.offsetWidth,o=e.offsetHeight;e?e.offsetParent!=document.body:!1;)e=e.offsetParent,i+=e?e.offsetTop:0,r+=e?e.offsetLeft:0;return[a,o,i,r]}function init(){var t=document.createElement("style");t.innerHTML=styles,document.head.appendChild(t),loadLabels();for(var e=document.forms,i=0;i<e.length;i++)e[i].style.display="none";fieldsets=document.forms[0].getElementsByTagName("fieldset");for(var i=0;i<fieldsets.length;i++){var r=fieldsets[i].elements;navigablefieldsets.push([]);for(var a=0;a<r.length;a++)"hidden"!=r[a].type.toLowerCase()&&navigablefieldsets[i].push(r[a])}loadPage(currentPage)}function showFixedKeyboard(t,e,i,r,a){if(void 0!=t&&void 0!=e){if(e.innerHTML="",__$("fixedkeyboard")&&document.body.removeChild(__$("fixedkeyboard")),!__$("main")){var o=document.createElement("div");o.id="main",e.appendChild(o)}target=t;var n=checkCtrl(t);"undefined"==typeof i&&(i={}),"undefined"==typeof r&&(r=!1),"undefined"==typeof a&&(a=!1),currentCaseUpper=a,currentKeysNumeric=r;var l=document.createElement("div");l.id="fixedkeyboard",l.style.margin="auto",l.style.borderRadius="10px",l.style.backgroundColor="rgba(255,255,255,0.8)",e.appendChild(l);var s;s=currentKeysNumeric?[[1,2,3,":"],[4,5,6,"/"],[7,8,9,"."],["del",0,"N/A","abc"]]:currentKeysQWERTY?[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L","\xd1"],["CAP","Z","X","C","V","B","N","M",":","del"],["@","space",".","/","123","abc"]]:[["A","B","C","D","E","F","G","H","I","J"],["K","L","M","N","\xd1","O","P","Q","R",":"],["CAP","S","T","U","V","W","X","Y","Z","del"],["@","space",".","/","123","qwe"]];var d={A:!0,B:!0,C:!0,D:!0,E:!0,F:!0,G:!0,H:!0,I:!0,J:!0,K:!0,L:!0,M:!0,N:!0,"\xd1":!0,O:!0,P:!0,Q:!0,R:!0,S:!0,T:!0,U:!0,V:!0,W:!0,X:!0,Y:!0,Z:!0,CAP:!0},u=document.createElement("div");u.style.display="table",u.style.margin="auto",l.appendChild(u);for(var c=0;c<s.length;c++){var p=document.createElement("div");p.style.display="table-row",u.appendChild(p);for(var g=0;g<s[c].length;g++){var m=document.createElement("div");if(m.style.display="table-cell",p.appendChild(m),0!=String(s[c][g]).trim().length){var b=document.createElement("button");b.setAttribute("class",i[s[c][g]]?"button gray":"button blue"),b.style.width="82px",b.style.height="60px",b.style.minWidth="40px",b.style.minHeight="40px",b.style.margin="2px",b.style.fontSize="24px",b.id=s[c][g],target&&"."==s[c][g]&&(target.value.trim().match(/\./)||0==target.value.trim().length?b.setAttribute("class","button gray"):b.setAttribute("class","button blue")),"hide"==s[c][g]&&(b.style.fontSize="0.9em"),d[s[c][g]]?b.innerHTML="cap"==String(s[c][g]).trim().toLowerCase()?currentCaseUpper?String(s[c][g]).toUpperCase():String(s[c][g]).toLowerCase():currentCaseUpper?String(s[c][g]).toLowerCase():String(s[c][g]).toUpperCase():b.innerHTML=s[c][g],i[s[c][g]]?b.setAttribute("class","button gray"):(b.setAttribute("class","button blue"),b.onmousedown=function(){if("del"==this.innerHTML)target&&("N/A"==target.value.trim()?target.value="":target.value=target.value.trim().substring(0,target.value.trim().length-1),target.getAttribute("target")&&__$(target.getAttribute("target"))&&(__$(target.getAttribute("target")).value=target.value));else if("N/A"==this.innerHTML)target.value="N/A",target.getAttribute("target")&&__$(target.getAttribute("target"))&&(__$(target.getAttribute("target")).value=target.value);else if("123"==this.innerHTML.trim())currentKeysNumeric=!0,showFixedKeyboard(__$(target.id),e,i,currentKeysNumeric,currentCaseUpper);else if("abc"==this.innerHTML.trim())currentKeysQWERTY=!1,currentKeysNumeric=!1,showFixedKeyboard(__$(target.id),e,i,currentKeysNumeric,currentCaseUpper);else if("qwe"==this.innerHTML.trim())currentKeysQWERTY=!0,currentKeysNumeric=!1,showFixedKeyboard(__$(target.id),e,i,currentKeysNumeric,currentCaseUpper);else if("?"==this.innerHTML.trim())target.value="?",target.getAttribute("target")&&__$(target.getAttribute("target"))&&(__$(target.getAttribute("target")).value=target.value);else if("cap"==this.innerHTML.trim().toLowerCase()){currentCaseUpper=!currentCaseUpper;var t=Object.keys(d);if(currentCaseUpper){for(var r=0;r<t.length-1;r++)__$(t[r])&&(__$(t[r]).innerHTML=t[r].toLowerCase());this.innerHTML="CAP"}else{for(var r=0;r<t.length-1;r++)__$(t[r])&&(__$(t[r]).innerHTML=t[r].toUpperCase());this.innerHTML="cap"}}else"space"==this.innerHTML.trim()?target.value+=" ":"?"==target.value.trim()||"Unknown"==target.value.trim()||"N/A"==target.value.trim()?(target.value=currentCaseUpper?this.innerHTML.trim().toLowerCase():this.innerHTML.trim(),target.getAttribute("target")&&__$(target.getAttribute("target"))&&(__$(target.getAttribute("target")).value=target.value)):overwriteNumber?(target.value=currentCaseUpper?this.innerHTML.trim().toLowerCase():this.innerHTML.trim(),target.getAttribute("target")&&__$(target.getAttribute("target"))&&(__$(target.getAttribute("target")).value=target.value),overwriteNumber=!1,target.value.trim().length>0&&__$("CAP")&&!currentCaseUpper&&(currentCaseUpper=!currentCaseUpper,showFixedKeyboard(__$(target.id),e,i,currentKeysNumeric,currentCaseUpper))):(target.value+=currentCaseUpper?this.innerHTML.trim().toLowerCase():this.innerHTML.trim(),target.getAttribute("target")&&__$(target.getAttribute("target"))&&(__$(target.getAttribute("target")).value=target.value),target.value.trim().length>0&&__$("CAP")&&!currentCaseUpper&&(currentCaseUpper=!currentCaseUpper,showFixedKeyboard(__$(target.id),e,i,currentKeysNumeric,currentCaseUpper)));i["."]||__$(".").setAttribute("class","button blue"),(null!=target.getAttribute("ajaxURL")||null!=target.getAttribute("ajaxUrl")||null!=target.getAttribute("ajaxurl"))&&null!=target.getAttribute("target")&&checkLookup(target.getAttribute("target"))}),"Unknown"==String(s[c][g]).trim()&&(b.style.fontSize="14px",m.style.marginTop="-10px"),m.appendChild(b)}else m.innerHTML="&nbsp;"}}if(__$("fixedkeyboard")){var _=checkCtrl(__$("fixedkeyboard")),h=window.innerWidth,v=window.innerHeight;_[0]+_[3]>h&&(__$("fixedkeyboard").style.left=h-_[0]-10+"px"),_[1]+_[2]>v&&(__$("fixedkeyboard").style.top=n[2]-_[1]-2+"px")}}}function showKeyboard(ctrl,disabled,numbers,caps){if(__$("popupkeyboard")&&void 0==numbers)document.body.removeChild(__$("popupkeyboard"));else{if(__$("popupkeyboard")&&document.body.removeChild(__$("popupkeyboard")),!__$("main")){var main=document.createElement("div");main.id="main",document.body.appendChild(main)}target=ctrl;var pos=checkCtrl(ctrl);"undefined"==typeof disabled&&(disabled={}),"undefined"==typeof numbers&&(numbers=!1),"undefined"==typeof caps&&(caps=!1),currentCaseUpper=caps,currentKeysNumeric=numbers;var div=document.createElement("div");div.id="popupkeyboard",div.style.position="absolute",div.style.border="1px solid #5ca6c4",div.style.borderRadius="10px",div.style.left=pos[3]+"px",div.style.top=pos[2]+pos[1]+2-window.scrollY-(__$("display")?__$("display").scrollTop:0)+"px",div.style.zIndex="1000",div.style.backgroundColor="rgba(255,255,255,0.8)",document.body.appendChild(div);var keys;keys=currentKeysNumeric?[[1,2,3,":"],[4,5,6,"/"],[7,8,9,"."],["del",0,"?","abc","hide"]]:currentKeysQWERTY?[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L","del"],["","Z","X","C","V","B","N","M","N/A","CAP"],["@","space",":",".","/","num","abc","hide"]]:[["A","B","C","D","E","F","G","H","I"],["J","K","L","M","N","O","P","Q","R"],["S","T","U","V","W","X","Y","Z","CAP"],["@","space",":",".","/","num","qwe","N/A","del","hide"]];var letters={A:!0,B:!0,C:!0,D:!0,E:!0,F:!0,G:!0,H:!0,I:!0,J:!0,K:!0,L:!0,M:!0,N:!0,O:!0,P:!0,Q:!0,R:!0,S:!0,T:!0,U:!0,V:!0,W:!0,X:!0,Y:!0,Z:!0,CAP:!0},table=document.createElement("div");table.style.display="table",table.style.margin="auto",div.appendChild(table);for(var i=0;i<keys.length;i++){var row=document.createElement("div");row.style.display="table-row",table.appendChild(row);for(var j=0;j<keys[i].length;j++){var cell=document.createElement("div");if(cell.style.display="table-cell",row.appendChild(cell),0!=String(keys[i][j]).trim().length){var button=document.createElement("button");button.setAttribute("class",disabled[keys[i][j]]?"button gray":"button blue"),button.style.width="65px",button.style.height="60px",button.style.minWidth="40px",button.style.minHeight="40px",button.style.margin="2px",button.style.fontSize="24px",button.id=keys[i][j],target&&"."==keys[i][j]&&(target.value.trim().match(/\./)||0==target.value.trim().length?button.setAttribute("class","button gray"):button.setAttribute("class","button blue")),"hide"==keys[i][j]&&(button.style.fontSize="0.9em"),letters[keys[i][j]]?button.innerHTML="cap"==String(keys[i][j]).trim().toLowerCase()?currentCaseUpper?String(keys[i][j]).toUpperCase():String(keys[i][j]).toLowerCase():currentCaseUpper?String(keys[i][j]).toLowerCase():String(keys[i][j]).toUpperCase():button.innerHTML=keys[i][j],disabled[keys[i][j]]?button.setAttribute("class","button gray"):(button.setAttribute("class","button blue"),button.onmousedown=function(){if("del"==this.innerHTML)target&&("N/A"==target.value.trim()?target.value="":target.value=target.value.trim().substring(0,target.value.trim().length-1),target.getAttribute("target")&&__$(target.getAttribute("target"))&&(__$(target.getAttribute("target")).value=target.value));else if("N/A"==this.innerHTML)target.value="N/A",target.getAttribute("target")&&__$(target.getAttribute("target"))&&(__$(target.getAttribute("target")).value=target.value);else if("hide"==this.innerHTML.trim()){if(__$("shield")){if(__$("popup")&&document.body.removeChild(__$("popup")),__$("popupkeyboard")){var action=__$("shield").getAttribute("action");null!=action&&eval(action),document.body.removeChild(__$("popupkeyboard"))}return void document.body.removeChild(__$("shield"))}if(__$("popupkeyboard"))return void document.body.removeChild(__$("popupkeyboard"))}else if("num"==this.innerHTML.trim())currentKeysNumeric=!0,showKeyboard(__$(target.id),disabled,currentKeysNumeric,currentCaseUpper);else if("abc"==this.innerHTML.trim())currentKeysQWERTY=!1,currentKeysNumeric=!1,showKeyboard(__$(target.id),disabled,currentKeysNumeric,currentCaseUpper);else if("qwe"==this.innerHTML.trim())currentKeysQWERTY=!0,currentKeysNumeric=!1,showKeyboard(__$(target.id),disabled,currentKeysNumeric,currentCaseUpper);else if("?"==this.innerHTML.trim())target.value="?",target.getAttribute("target")&&__$(target.getAttribute("target"))&&(__$(target.getAttribute("target")).value=target.value);else if("cap"==this.innerHTML.trim().toLowerCase()){currentCaseUpper=!currentCaseUpper;var keys=Object.keys(letters);if(currentCaseUpper){for(var l=0;l<keys.length-1;l++)__$(keys[l])&&(__$(keys[l]).innerHTML=keys[l].toLowerCase());this.innerHTML="CAP"}else{for(var l=0;l<keys.length-1;l++)__$(keys[l])&&(__$(keys[l]).innerHTML=keys[l].toUpperCase());this.innerHTML="cap"}}else"&nbsp;"==this.innerHTML.trim()?(target.value+=" ",target.getAttribute("target")&&__$(target.getAttribute("target"))&&(__$(target.getAttribute("target")).value=target.value)):"?"==target.value.trim()||"Unknown"==target.value.trim()||"N/A"==target.value.trim()?(target.value=currentCaseUpper?this.innerHTML.trim().toLowerCase():this.innerHTML.trim(),target.getAttribute("target")&&__$(target.getAttribute("target"))&&(__$(target.getAttribute("target")).value=target.value)):overwriteNumber?(target.value=currentCaseUpper?this.innerHTML.trim().toLowerCase():this.innerHTML.trim(),target.getAttribute("target")&&__$(target.getAttribute("target"))&&(__$(target.getAttribute("target")).value=target.value),overwriteNumber=!1):(target.value+=currentCaseUpper?this.innerHTML.trim().toLowerCase():this.innerHTML.trim(),target.getAttribute("target")&&__$(target.getAttribute("target"))&&(__$(target.getAttribute("target")).value=target.value));disabled["."]||__$(".").setAttribute("class","button blue"),(null!=target.getAttribute("ajaxURL")||null!=target.getAttribute("ajaxUrl")||null!=target.getAttribute("ajaxurl"))&&null!=target.getAttribute("target")&&checkLookup(target.getAttribute("target"))}),"Unknown"==String(keys[i][j]).trim()&&(button.style.fontSize="14px",cell.style.marginTop="-10px"),cell.appendChild(button)}else cell.innerHTML="&nbsp;"}}if(__$("popupkeyboard")){var kpos=checkCtrl(__$("popupkeyboard")),w=window.innerWidth,h=window.innerHeight;kpos[0]+kpos[3]>w&&(__$("popupkeyboard").style.left=w-kpos[0]-10+"px"),kpos[1]+kpos[2]>h&&(__$("popupkeyboard").style.top=pos[2]-kpos[1]-2+"px")}}}function loadLabels(){for(var t=document.getElementsByTagName("LABEL"),e=0;e<t.length;e++)if(""!=t[e].htmlFor){var i=document.getElementById(t[e].htmlFor);i&&(i.label=t[e])}}function addTimer(t,e,i,r){if(void 0!=t&&void 0!=e&&void 0!=i){var a=document.createElement("div");a.style.display="table",a.style.borderSpacing=5*r+"px",a.style.width=400*r+"px",a.style.border="1px solid #3465a4",a.style.borderRadius=10*r+"px",t.appendChild(a);var o=document.createElement("div");o.style.display="table-row",a.appendChild(o);var n=document.createElement("div");n.style.display="table-row",a.appendChild(n);var l=document.createElement("div");l.style.display="table-row",a.appendChild(l);var s=document.createElement("div");s.style.display="table-cell",s.style.textAlign="left",s.style.verticalAlign="middle",s.style.fontSize=18*r+"px",s.style.padding=10*r+"px",o.appendChild(s),addLabel(s,i,2.5*r+"em");var d=document.createElement("div");d.style.display="table-cell",d.style.textAlign="center",d.style.verticalAlign="middle",d.style.padding=10*r+"px",d.style.paddingLeft=60*r+"px",d.style.paddingRight=60*r+"px",d.style.paddingBottom="0px",n.appendChild(d);var u=document.createElement("div");u.style.border="2px solid #3465a4",u.style.padding=20*r+"px",u.style.fontSize=120*r+"px",u.style.width=350*r+"px",u.style.height=350*r+"px",u.style.borderRadius=350*r+"px",u.style.verticalAlign="middle",u.style.textAlign="center",u.style.marginBottom=-40*r+"px",d.appendChild(u);var c=document.createElement("div");c.style.marginTop=100*r+"px",c.id="time"+t.id,c.innerHTML="00:00",u.appendChild(c);var p=document.createElement("div");p.style.display="cell",p.style.textAlign="right",p.style.paddingBottom=10*r+"px",p.style.paddingRight=10*r+"px",p.id="cell3_"+t.id,l.appendChild(p);var g=addButton(p,"Start","green");return g.style.width=100*r+"px",g.setAttribute("limit",e),g.id="btnTmr"+t.id,g.setAttribute("target",t.id),g.style.fontSize=28*r+"px",g.style.minWidth=100*r+"px",g.style.minHeight=60*r+"px",g.style.width=100*r+"px",g.style.height=80*r+"px",g.onmousedown=function(){countDown(this.getAttribute("target"),this.getAttribute("limit"))},a}}function countDown(t,e){clearTimeout(timerHandles[t]),void 0==timers[t]?void 0!=e&&(timers[t]=60*parseInt(e),__$("btnTmr"+t)&&(__$("btnTmr"+t).className="button red",__$("btnTmr"+t).innerHTML="Stop",__$("btnTmr"+t).onmousedown=function(){"reset"==this.innerHTML.trim().toLowerCase()?(this.innerHTML="Start",this.className="button green",__$("time"+this.getAttribute("target"))&&(__$("time"+this.getAttribute("target")).innerHTML="00:00"),this.onmousedown=function(){countDown(this.getAttribute("target"),this.getAttribute("limit"))}):(clearTimeout(timerHandles[this.getAttribute("target")]),delete timers[this.getAttribute("target")],this.innerHTML="Reset")})):timers[t]-=1;var i=timers[t]%60,r=(timers[t]-i)/60;__$("time"+t)&&(__$("time"+t).innerHTML=padZeros(r,2)+":"+padZeros(i,2)),timers[t]<=0?(delete timers[t],__$("btnTmr"+t)&&(__$("btnTmr"+t).innerHTML="Start",__$("btnTmr"+t).className="button green",__$("time"+t)&&(__$("time"+t).innerHTML="00:00"),__$("btnTmr"+t).onmousedown=function(){countDown(this.getAttribute("target"),this.getAttribute("limit"))})):timerHandles[t]=setTimeout("countDown('"+t+"', '"+e+"')",1e3)}function addAge(t,e,i,r,a){if(void 0!=t&&void 0!=e&&void 0!=r&&void 0!=a){t.innerHTML="";var o="20px",n=document.createElement("div");n.style.display="table",n.style.borderSpacing="5px",n.style.margin="auto",n.style.borderRadius="10px",t.appendChild(n);var l=document.createElement("div");l.style.display="table-row",n.appendChild(l);var s=document.createElement("div");s.style.display="table-cell",s.id="cell1_1_"+e.id,s.style.padding="10px",s.style.fontStyle="italic",s.style.textAlign="center",s.style.fontSize=o,l.appendChild(s),addLabel(s,r,o);var d=document.createElement("div");d.style.fontWeight="bold",d.style.fontStyle="italic",d.style.textAlign="center",d.style.padding="10px",d.innerHTML="OR",d.style.fontSize=o,l.appendChild(d);var u=document.createElement("div");u.style.display="table-cell",u.id="cell1_3_"+e.id,u.style.padding="10px",u.style.fontStyle="italic",u.style.textAlign="center",u.style.fontSize=o,l.appendChild(u),addLabel(u,a,o);var c=document.createElement("div");c.style.display="table-row",n.appendChild(c);var p=document.createElement("div");p.style.display="table-cell",p.id="cell2_1_"+e.id,p.style.textAlign="center",c.appendChild(p),addDate(p,e,i);var g=document.createElement("div");g.style.display="table-cell",g.id="cell2_2_"+e.id,g.style.textAlign="center",g.innerHTML="&nbsp;",c.appendChild(g);var m=document.createElement("div");m.style.display="table-cell",m.id="cell2_3_"+e.id,m.style.textAlign="center",m.style.verticalAlign="middle",c.appendChild(m);var b=addTextbox(m,"number",e);b.style.width="100px",b.style.fontSize="24px",b.style.textAlign="center",b.setAttribute("target",e.id),b.id="age"+e.id,b.onmousedown=function(){overwriteNumber=!0,__$("popupkeyboard")?document.body.removeChild(__$("popupkeyboard")):showKeyboard(__$("age"+this.getAttribute("target")),{":":":","/":"/",".":".",abc:"abc"},!0),showShield("checkDate('"+this.getAttribute("target")+"', true)"),checkDate(this.getAttribute("target"),!0)}}}function addDate(t,e,i){if(void 0!=t&&void 0!=e){var r;void 0==i||null==i||0==i.trim().length?e.value.trim().match(/^(\d|\d{2}|\?)\/([A-Za-z]{3}|\?)\/(\d{4}|\?)$/)?(r=e.value.trim().split("/"),i=new Date(r[2]+"-"+padZeros(monthNames[r[1]]+1,2)+"-"+padZeros(parseInt(r[0]),2))):i=new Date:e.value.trim().match(/^(\d|\d{2}|\?)\/([A-Za-z]{3}|\?)\/(\d{4}|\?)$/)?(r=e.value.trim().split("/"),i=new Date(r[2]+"-"+padZeros(monthNames[r[1]]+1,2)+"-"+padZeros(parseInt(r[0]),2))):i=new Date(i);var a=document.createElement("div");a.style.display="table",a.style.borderSpacing="5px",t.appendChild(a);var o;o="birthdate"==e.id?[[{type:"button",id:"btnAddYearFor"+e.id,target:e.id,value:"+",onmousedown:"incrementYear(this.getAttribute('target'))","class":"button blue",style:"height: 60px; margin: auto; width: 100%;"},{type:"button",id:"btnAddMonthFor"+e.id,target:e.id,value:"+",onmousedown:"incrementMonth(this.getAttribute('target'))","class":"button blue",style:"height: 60px; margin: auto; width: 100%;"},{type:"button",id:"btnAddDateFor"+e.id,target:e.id,value:"+",onmousedown:"incrementDate(this.getAttribute('target'))","class":"button blue",style:"height: 60px; margin: auto; width: 100%;"},{type:"hidden"}],[{type:"input",id:"txtYearFor"+e.id,target:e.id,value:isNaN(i.getFullYear())?3==r.length?r[2]:"?":i.getFullYear(),onmousedown:"overwriteNumber = true; if(__$('keyboard')){document.body.removeChild(__$('keyboard'));} else {showShield(\"checkDate('\" + this.getAttribute('target') + \"', false)\"); showKeyboard(__$('txtYearFor' + this.getAttribute('target')),{':':':','/':'/','.':'.','abc':'abc'},true);} checkDate(this.getAttribute('target'));","class":"input_cell",style:"font-size: 24px; text-align: center; width: 80%;"},{type:"input",id:"txtMonthFor"+e.id,target:e.id,value:"undefined"!=typeof months[i.getMonth()]?months[i.getMonth()]:3==r.length?r[1]:"?",onmousedown:"showShield(); addList(__$('txtMonthFor' + this.getAttribute('target')),{"+I18n.t("forms.options.january_short")+':I18n.t("forms.options.january"),'+I18n.t("forms.options.february_short")+':I18n.t("forms.options.february"),'+I18n.t("forms.options.march_short")+':I18n.t("forms.options.march"),'+I18n.t("forms.options.april_short")+':I18n.t("forms.options.april"),'+I18n.t("forms.options.may_short")+':I18n.t("forms.options.may"),'+I18n.t("forms.options.june_short")+':I18n.t("forms.options.june"),'+I18n.t("forms.options.july_short")+':I18n.t("forms.options.july"),'+I18n.t("forms.options.august_short")+':I18n.t("forms.options.august"),'+I18n.t("forms.options.september_short")+':I18n.t("forms.options.september"),'+I18n.t("forms.options.october_short")+':I18n.t("forms.options.october"),'+I18n.t("forms.options.november_short")+':I18n.t("forms.options.november"),'+I18n.t("forms.options.december_short")+":I18n.t(\"forms.options.december\"),'?':I18n.t(\"forms.options.unknown\")},'single',__$('txtMonthFor' + this.getAttribute('target')),__$('txtMonthFor' + this.getAttribute('target')), 'checkDate(\"' + this.getAttribute('target') + '\")'); checkDate(this.getAttribute('target'));","class":"input_cell",style:"font-size: 24px; text-align: center; width: 80%;"},{type:"input",id:"txtDateFor"+e.id,target:e.id,value:isNaN(i.getDate())?3==r.length?r[0]:"?":i.getDate(),onmousedown:"overwriteNumber = true; if(__$('keyboard')){document.body.removeChild(__$('keyboard'));} else {showShield(\"checkDate('\" + this.getAttribute('target') + \"', false)\"); showKeyboard(__$('txtDateFor' + this.getAttribute('target')),{':':':','/':'/','.':'.','abc':'abc'},true);} checkDate(this.getAttribute('target'));","class":"input_cell",style:"font-size: 24px; text-align: center; width: 80%;"},{type:"button",id:"btnToday"+e.id,target:e.id,value:I18n.t("forms.buttons.today"),onmousedown:"getCurrentDate(this.getAttribute('target'))","class":"button green",style:"height: 58px; margin: auto; width: 100%;"}],[{type:"button",id:"btnSubtractYearFor"+e.id,target:e.id,value:"-",onmousedown:"decrementYear(this.getAttribute('target'))","class":"button blue",style:"height: 60px; margin: auto; width: 100%;"},{type:"button",id:"btnSubtractMonthFor"+e.id,target:e.id,value:"-",onmousedown:"decrementMonth(this.getAttribute('target'))","class":"button blue",style:"height: 60px; margin: auto; width: 100%;"},{type:"button",id:"btnSubtractDateFor"+e.id,target:e.id,value:"-",onmousedown:"decrementDate(this.getAttribute('target'))","class":"button blue",style:"height: 60px; margin: auto; width: 100%;"},{type:"hidden"}]]:[[{type:"button",id:"btnAddYearFor"+e.id,target:e.id,value:"+",onmousedown:"incrementYear(this.getAttribute('target'))","class":"button blue",style:"height: 60px; margin: auto; width: 100%;"},{type:"button",id:"btnAddMonthFor"+e.id,target:e.id,value:"+",onmousedown:"incrementMonth(this.getAttribute('target'))","class":"button blue",style:"height: 60px; margin: auto; width: 100%;"},{type:"button",id:"btnAddDateFor"+e.id,target:e.id,value:"+",onmousedown:"incrementDate(this.getAttribute('target'))","class":"button blue",style:"height: 60px; margin: auto; width: 100%;"}],[{type:"input",id:"txtYearFor"+e.id,target:e.id,value:isNaN(i.getFullYear())?3==r.length?r[2]:"?":i.getFullYear(),onmousedown:"overwriteNumber = true; if(__$('keyboard')){document.body.removeChild(__$('keyboard'));} else {showShield(\"checkDate('\" + this.getAttribute('target') + \"', false)\"); showKeyboard(__$('txtYearFor' + this.getAttribute('target')),{':':':','/':'/','.':'.','abc':'abc'},true);} checkDate(this.getAttribute('target'));","class":"input_cell",style:"font-size: 24px; text-align: center; width: 80%;"},{type:"input",id:"txtMonthFor"+e.id,target:e.id,value:"undefined"!=typeof months[i.getMonth()]?months[i.getMonth()]:3==r.length?r[1]:"?",onmousedown:"showShield(); addList(__$('txtMonthFor' + this.getAttribute('target')),{"+I18n.t("forms.options.january_short")+':I18n.t("forms.options.january"),'+I18n.t("forms.options.february_short")+':I18n.t("forms.options.february"),'+I18n.t("forms.options.march_short")+':I18n.t("forms.options.march"),'+I18n.t("forms.options.april_short")+':I18n.t("forms.options.april"),'+I18n.t("forms.options.may_short")+':I18n.t("forms.options.may"),'+I18n.t("forms.options.june_short")+':I18n.t("forms.options.june"),'+I18n.t("forms.options.july_short")+':I18n.t("forms.options.july"),'+I18n.t("forms.options.august_short")+':I18n.t("forms.options.august"),'+I18n.t("forms.options.september_short")+':I18n.t("forms.options.september"),'+I18n.t("forms.options.october_short")+':I18n.t("forms.options.october"),'+I18n.t("forms.options.november_short")+':I18n.t("forms.options.november"),'+I18n.t("forms.options.december_short")+":I18n.t(\"forms.options.december\"),'?':I18n.t(\"forms.options.unknown\")},'single',__$('txtMonthFor' + this.getAttribute('target')),__$('txtMonthFor' + this.getAttribute('target')), 'checkDate(\"' + this.getAttribute('target') + '\")'); checkDate(this.getAttribute('target'));","class":"input_cell",style:"font-size: 24px; text-align: center; width: 80%;"},{type:"input",id:"txtDateFor"+e.id,target:e.id,value:isNaN(i.getDate())?3==r.length?r[0]:"?":i.getDate(),onmousedown:"overwriteNumber = true; if(__$('keyboard')){document.body.removeChild(__$('keyboard'));} else {showShield(\"checkDate('\" + this.getAttribute('target') + \"', false)\"); showKeyboard(__$('txtDateFor' + this.getAttribute('target')),{':':':','/':'/','.':'.','abc':'abc'},true);} checkDate(this.getAttribute('target'));","class":"input_cell",style:"font-size: 24px; text-align: center; width: 80%;"}],[{type:"button",id:"btnSubtractYearFor"+e.id,target:e.id,value:"-",onmousedown:"decrementYear(this.getAttribute('target'))","class":"button blue",style:"height: 60px; margin: auto; width: 100%;"},{type:"button",id:"btnSubtractMonthFor"+e.id,target:e.id,value:"-",onmousedown:"decrementMonth(this.getAttribute('target'))","class":"button blue",style:"height: 60px; margin: auto; width: 100%;"},{type:"button",id:"btnSubtractDateFor"+e.id,target:e.id,value:"-",onmousedown:"decrementDate(this.getAttribute('target'))","class":"button blue",style:"height: 60px; margin: auto; width: 100%;"}]];for(var n=0;n<o.length;n++){var l=document.createElement("div");l.style.display="table-row",a.appendChild(l);for(var s=0;s<o[n].length;s++){var d=document.createElement("div");d.style.display="table-cell",d.style.width="140px",d.style.textAlign="center",l.appendChild(d);var u=document.createElement("input");for(var c in o[n][s])u.setAttribute(c,o[n][s][c]);d.appendChild(u)}}return a}}function incrementYear(t){if(__$("txtYearFor"+t)){var e=parseInt(__$("txtYearFor"+t).value.trim());e++,__$("txtYearFor"+t).value=e,checkDate(t)}}function decrementYear(t){if(__$("txtYearFor"+t)){var e=parseInt(__$("txtYearFor"+t).value.trim());e--,__$("txtYearFor"+t).value=e,checkDate(t)}}function incrementMonth(t){if(__$("txtMonthFor"+t)){var e=monthNames[__$("txtMonthFor"+t).value.trim()];12>e+1?e++:e=0,__$("txtMonthFor"+t).value=months[e],checkDate(t)}}function decrementMonth(t){if(__$("txtMonthFor"+t)){var e=monthNames[__$("txtMonthFor"+t).value.trim()];e-1>=0?e--:e=11,__$("txtMonthFor"+t).value=months[e],checkDate(t)}}function incrementDate(t){if(__$("txtDateFor"+t)){var e=parseInt(__$("txtDateFor"+t).value.trim()),i=(monthNames[__$("txtMonthFor"+t).value.trim()],Date.parse(__$("txtYearFor"+t).value.trim()+"-"+padZeros(monthNames[__$("txtMonthFor"+t).value.trim()]+1,2)+"-"+padZeros(e+1,2)));console.log(i),isNaN(i)?e=1:e+=1,__$("txtDateFor"+t).value=e,console.log(__$("txtDateFor"+t).value),checkDate(t)}}function decrementDate(t){if(__$("txtDateFor"+t)){var e=parseInt(__$("txtDateFor"+t).value.trim());monthNames[__$("txtMonthFor"+t).value.trim()];if(e-1>0)e--;else{var i=new Date(__$("txtYearFor"+t).value.trim()+"-"+padZeros(monthNames[__$("txtMonthFor"+t).value.trim()]+2,2)+"-01"),r=new Date(i-1);e=r.getDate()}__$("txtDateFor"+t).value=e,checkDate(t)}}function getCurrentDate(t){var e=new Date,i=e.getDate(),r=e.getMonth(),a=e.getFullYear();__$("txtDateFor"+t).value=i,__$("txtMonthFor"+t).value=months[r],__$("txtYearFor"+t).value=a,checkDate(t)}function checkDate(t,e){if(__$("txtDateFor"+t)&&__$("txtYearFor"+t)&&__$("txtMonthFor"+t))if(void 0==e||0==e){if(!__$("txtYearFor"+t).value.trim().match(/^\d{4}$/))return __$("txtYearFor"+t).value="?",__$("txtMonthFor"+t).value="?",__$("txtDateFor"+t).value="?",__$(t)&&(__$(t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim()),__$("textFor"+t)&&(__$("textFor"+t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim()),void(__$("age"+t)&&(__$("age"+t).value=""));if("?"==__$("txtMonthFor"+t).value.trim()){if(__$("txtMonthFor"+t).value="?",__$("txtDateFor"+t).value="?",__$(t)&&(__$(t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim()),__$("textFor"+t)&&(__$("textFor"+t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim()),__$("age"+t)){var i=__$("txtYearFor"+t).value.trim()+"-"+padZeros((new Date).getMonth()+1,2)+"-"+padZeros((new Date).getDate(),2),r=(new Date-new Date(i))/31536e6;__$("age"+t).value=Math.round(r)}return}if("?"==__$("txtDateFor"+t).value.trim()){if(__$("txtDateFor"+t).value="?",__$(t)&&(__$(t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim()),__$("textFor"+t)&&(__$("textFor"+t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim()),__$("age"+t)){var i=__$("txtYearFor"+t).value.trim()+"-"+padZeros((new Date).getMonth()+1,2)+"-"+padZeros((new Date).getDate(),2),r=(new Date-new Date(i))/31536e6;__$("age"+t).value=Math.round(r)}return}var a=parseInt(__$("txtDateFor"+t).value.trim()),o=monthNames[__$("txtMonthFor"+t).value.trim()],n=Date.parse(__$("txtYearFor"+t).value.trim()+"-"+padZeros(monthNames[__$("txtMonthFor"+t).value.trim()]+1,2)+"-"+padZeros(__$("txtDateFor"+t).value.trim(),2));if(isNaN(n)){var l=new Date(__$("txtYearFor"+t).value.trim()+"-"+padZeros(monthNames[__$("txtMonthFor"+t).value.trim()]+2,2)+"-01"),s=new Date(l-1);a=s.getDate(),__$("txtDateFor"+t).value=a}if(__$(t)&&(__$(t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim()),__$("textFor"+t)&&(__$("textFor"+t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim()),__$("age"+t)){var i=__$("txtYearFor"+t).value.trim()+"-"+padZeros(1>o-1?12:o-1,2)+"-"+padZeros(parseInt(__$("txtDateFor"+t).value.trim()),2),r=(new Date-new Date(i))/31536e6;__$("age"+t).value=Math.round(r)}}else{if(__$("age"+t)){var r=parseInt(__$("age"+t).value);if(isNaN(r))__$("txtYearFor"+t).value="?",__$("txtMonthFor"+t).value="?",__$("txtDateFor"+t).value="?";else{var d=(new Date).getFullYear()-r;__$("txtYearFor"+t).value=d,__$("txtMonthFor"+t).value="?",__$("txtDateFor"+t).value="?"}}if(__$(t)){if(!__$("txtYearFor"+t).value.trim().match(/^\d{4}$/))return __$("txtYearFor"+t).value="?",__$("txtMonthFor"+t).value="?",__$("txtDateFor"+t).value="?",__$(t)&&(__$(t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim()),__$("age"+t)&&(__$("age"+t).value=""),void(__$("textFor"+t)&&(__$("textFor"+t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim()));if("?"==__$("txtMonthFor"+t).value.trim()){if(__$("txtMonthFor"+t).value="?",__$("txtDateFor"+t).value="?",__$(t)&&(__$(t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim()),__$("age"+t)){var i=__$("txtYearFor"+t).value.trim()+"-"+padZeros((new Date).getMonth()+1,2)+"-"+padZeros((new Date).getDate(),2),r=(new Date-new Date(i))/31536e6;__$("age"+t).value=Math.round(r)}return __$(t)&&(__$(t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim()),void(__$("textFor"+t)&&(__$("textFor"+t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim()))}if("?"==__$("txtDateFor"+t).value.trim()){if(__$("txtDateFor"+t).value="?",__$(t)&&(__$(t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim()),__$("age"+t)){var i=__$("txtYearFor"+t).value.trim()+"-"+padZeros((new Date).getMonth()+1,2)+"-"+padZeros((new Date).getDate(),2),r=(new Date-new Date(i))/31536e6;__$("age"+t).value=Math.round(r)}return __$(t)&&(__$(t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim()),
void(__$("textFor"+t)&&(__$("textFor"+t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim()))}var a=parseInt(__$("txtDateFor"+t).value.trim()),o=monthNames[__$("txtMonthFor"+t).value.trim()];12>o+1?o+=2:o=1;var l=new Date(__$("txtYearFor"+t).value.trim()+"-"+padZeros(o,2)+"-01");l.setDate(l.getDate()-1),a>l.getDate()&&(a=l.getDate()),__$("txtDateFor"+t).value=a,__$(t)&&(__$(t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim()),__$("textFor"+t)&&(__$("textFor"+t).value=__$("txtDateFor"+t).value.trim()+"/"+__$("txtMonthFor"+t).value.trim()+"/"+__$("txtYearFor"+t).value.trim())}}}function addTextbox(t,e,i,r){if(void 0!=t&&void 0!=i){void 0==e&&(e=__$(i)?void 0!=__$(i).type&&"password"==__$(i).type.toLowerCase()?"password":void 0!=__$(i).type&&"barcode"==__$(i).type.toLowerCase()?"barcode":void 0!=__$(i).type&&"number"==__$(i).type.toLowerCase()?"number":"text":"text");var a=document.createElement("input");switch(a.style.fontSize="1.2em",a.style.padding="10px",a.style.border="1px solid #3465a4",a.style.borderRadius="10px",a.style.width="98.5%",a.style.margin="auto",a.setAttribute("target",i.id),a.setAttribute("fieldtype",e.toLowerCase()),t.appendChild(a),e.toLowerCase()){case"password":a.setAttribute("type","password");break;case"number":a.setAttribute("type","number");break;case"barcode":void 0!=r&&a.setAttribute("callback",r);default:a.setAttribute("type","text")}return a}}function addList(t,e,i,r,a,o,n,l){if(void 0!=t&&void 0!=e&&void 0!=r&&void 0!=a&&void 0!=i){var s=t.id;if(__$(s))if(__$("popupkeyboard"))document.body.removeChild(__$("popupkeyboard"));else{var d=checkCtrl(__$(s)),u=document.createElement("div");u.style.position="absolute",u.style.border="1px solid #999",u.style.boxShadow="inset 0px 11px 8px -10px #CCC, inset 0px -11px 8px -10px #CCC",u.style.width=void 0!=l?l:"300px",u.style.height=void 0!=n?n:"618px",u.id="popupkeyboard",u.style.left=d[3]+"px",u.style.top=d[2]+d[1]-(__$("main-content-area")?__$("main-content-area").scrollTop:0)+"px",u.style.backgroundColor="#fff",u.style.overflow="auto",document.body.appendChild(u),addCombo(u,e,i,r,a,"single"==i?!0:!1,s,o);var c=checkCtrl(__$("popupkeyboard")),p=window.innerWidth,g=window.innerHeight;c[0]+c[3]>p&&(__$("popupkeyboard").style.left=p-c[0]-10+"px"),c[1]+c[2]>g&&(d[2]-c[1]+5<0?__$("popupkeyboard").style.top=d[2]-c[1]+-1*(d[2]-c[1]-5)+"px":__$("popupkeyboard").style.top=d[2]-c[1]-2+"px")}}}function addCombo(t,e,i,r,a,o,n,l,s){if(void 0!=t&&void 0!=e&&void 0!=r&&void 0!=a&&void 0!=i){void 0==o&&(o=!1),void 0==n&&(n=null),void 0==l&&(l=null),void 0==s&&(s={});var d=document.createElement("div");d.style.width="100%",d.style.height="100%",d.style.overflow="auto",t.appendChild(d);var u=document.createElement("ul");u.style.marginTop="0px",u.style.marginBottom="5px",u.style.paddingLeft="0px",u.style.paddingTop="0px";var c=document.getElementsByTagName("ul");u.id="ul"+(c.length+1),d.appendChild(u);var p=0;for(var g in e){var m=document.createElement("li");switch(m.style.color="black",m.style.listStyle="none",m.style.paddingLeft="5px",m.style.paddingRight="5px",m.style.marginTop="2px",m.style.marginBottom="2px",m.style.fontFamily='"Nimbus Sans L","Arial Narrow",sans-serif',m.style.fontSize="28px",m.style.padding="20px",m.style.cursor="pointer",m.setAttribute("target",u.id),m.setAttribute("collapseonclick",o),m.setAttribute("parent",n),m.setAttribute("action",l),m.setAttribute("tag",p%2>0?"odd":"even"),s[g]?(m.style.backgroundColor="lightblue",m.setAttribute("selecttag",!0),m.style.color="black"):m.style.backgroundColor=p%2>0?"#eee":"",m.onmouseover=function(){null==this.getAttribute("selecttag")&&(this.style.backgroundColor="#999",this.style.color="#eee")},m.onmouseout=function(){null==this.getAttribute("selecttag")&&("odd"==this.getAttribute("tag")?this.style.backgroundColor="#eee":this.style.backgroundColor="",this.style.color="#000")},m.setAttribute("value",g),m.innerHTML=e[g],u.appendChild(m),i.toLowerCase()){case"single":actOnSingle(m,r,a);break;case"multiple":actOnMultiple(m,r,a)}p++}return u}}function actOnSingle(li,target1,target2){void 0!=li&&void 0!=target1&&void 0!=target2&&(li.onmousedown=function(){if(null!=this.getAttribute("target")){if(__$(this.getAttribute("target")))for(var opts=__$(this.getAttribute("target")).children,i=0;i<opts.length;i++)null!=opts[i].getAttribute("selecttag")&&(opts[i].removeAttribute("selecttag"),opts[i].style.backgroundColor="odd"==opts[i].getAttribute("tag")?"#eee":"",target1.value="",target2.value="");this.setAttribute("selecttag",!0),this.style.backgroundColor="lightblue",this.style.color="black",target1.value=this.innerHTML,target2.value=this.getAttribute("value"),null!=this.getAttribute("collapseonclick")&&"true"==this.getAttribute("collapseonclick")?(eval(this.getAttribute("action")),__$("popupkeyboard")&&document.body.removeChild(__$("popupkeyboard")),__$("shield")&&showShield()):null!=this.getAttribute("action")&&eval(this.getAttribute("action")),checkConditions()}})}function actOnMultiple(t,e,i){void 0!=t&&void 0!=e&&void 0!=i&&(t.onmousedown=function(){for(var t=e.value.split(";"),r=[],a=i.options,o=0;o<a.length;o++)a[o].selected&&r.push(a[o].value);for(var n={},l={},o=0;o<t.length;o++)t[o].trim().length>0&&(n[t[o]]=!0),void 0!=r[o]&&r[o].trim().length>0&&(l[r[o]]=!0);null!=this.getAttribute("selecttag")?(this.removeAttribute("selecttag"),this.style.backgroundColor="odd"==this.getAttribute("tag")?"#eee":"",delete n[this.innerHTML],delete l[this.getAttribute("value")]):(this.setAttribute("selecttag",!0),this.style.backgroundColor="lightblue",this.style.color="black",n[this.innerHTML]=!0,l[this.getAttribute("value")]=!0);var s="";for(var o in n)s+=o+";";for(var o=0;o<a.length;o++)l[a[o].value]?a[o].selected=!0:a[o].selected=!1;e.value=s})}function addLabel(t,e,i,r){if(void 0!=t&&void 0!=e){void 0==r&&(r="black"),void 0==i&&(i="1em");var a=document.createElement("label");return a.style.color=r,a.style.fontSize=i,a.innerHTML=e,t.appendChild(a),a}}function addButton(t,e,i){if(void 0!=t&&void 0!=e){void 0==i&&(i="blue");var r=document.createElement("button");switch(r.style.margin="3px",r.style.height="60px",r.innerHTML=e,i.toLowerCase()){case"green":r.className="button green";break;case"red":r.className="button red";break;case"gray":r.className="button gray";break;case"orange":r.className="button orange";break;default:r.className="button blue"}return t.appendChild(r),r}}function greenButton(t){void 0!=t&&(t.style.border="1px solid #34740e",t.style.borderRadius="10px",t.style.fontSize="28px",t.style.fonFamily="arial helvetica, sans-serif",t.style.padding="10px 10px 10px 10px",t.style.textDecoration="none",t.style.display="inline-block",t.style.textShadow="-1px -1px 0 rgba(0,0,0,0.3)",t.style.fontWeight="bold",t.style.color="#FFFFFF",t.style.backgroundColor="#4ba614",t.style.backgroundImage="-moz-linear-gradient(top, #4ba614, #008c00)",t.onmouseout=function(){this.style.border="1px solid #34740e",this.style.backgroundColor="#4ba614",this.style.backgroundImage="-moz-linear-gradient(top, #4ba614, #008c00)"},t.onmouseover=function(){this.style.border="1px solid #224b09",this.style.backgroundColor="#36780f",this.style.backgroundImage="-moz-linear-gradient(top, #36780f, #005900)"})}function redButton(t){void 0!=t&&(t.style.border="1px solid #72021c",t.style.borderRadius="10px",t.style.fontSize="28px",t.style.fonFamily="arial helvetica, sans-serif",t.style.padding="10px 10px 10px 10px",t.style.textDecoration="none",t.style.display="inline-block",t.style.textShadow="-1px -1px 0 rgba(0,0,0,0.3)",t.style.fontWeight="bold",t.style.color="#FFFFFF",t.style.backgroundColor="#a90329",t.style.backgroundImage="-moz-linear-gradient(top, #a90329, #6d0019)",t.onmouseout=function(){this.style.border="1px solid #72021c",this.style.backgroundColor="#a90329",this.style.backgroundImage="-moz-linear-gradient(top, #a90329, #6d0019)"},t.onmouseover=function(){this.style.border="1px solid #450111",this.style.backgroundColor="#77021d",this.style.backgroundImage="-moz-linear-gradient(top, #77021d, #3a000d)"})}function grayButton(t){void 0!=t&&(t.style.border="1px solid #ccc",t.style.borderRadius="10px",t.style.fontSize="28px",t.style.fonFamily="arial helvetica, sans-serif",t.style.padding="10px 10px 10px 10px",t.style.textDecoration="none",t.style.display="inline-block",t.style.textShadow="-1px -1px 0 rgba(0,0,0,0.3)",t.style.fontWeight="bold",t.style.color="#FFFFFF",t.style.backgroundColor="#a7cfdf",t.style.backgroundImage="-moz-linear-gradient(top, #ccc, #999)",t.onmouseout=function(){this.style.border="1px solid #ccc",this.style.backgroundColor="#ccc",this.style.backgroundImage="-moz-linear-gradient(top, #ccc, #999)"},t.onmouseover=function(){this.style.border="1px solid #ccc",this.style.backgroundColor="#ddd",this.style.backgroundImage="-moz-linear-gradient(top, #333, #ccc)"},t.onmousedown=function(){})}function blueButton(t){void 0!=t&&(t.style.border="1px solid #7eb9d0",t.style.borderRadius="10px",t.style.fontSize="28px",t.style.fonFamily="arial helvetica, sans-serif",t.style.padding="10px 10px 10px 10px",t.style.textDecoration="none",t.style.display="inline-block",t.style.textShadow="-1px -1px 0 rgba(0,0,0,0.3)",t.style.fontWeight="bold",t.style.color="#FFFFFF",t.style.backgroundColor="#a7cfdf",t.style.backgroundImage="-moz-linear-gradient(top, #a7cfdf, #23538a)",t.onmouseout=function(){this.style.border="1px solid #7eb9d0",this.style.backgroundColor="#a7cfdf",this.style.backgroundImage="-moz-linear-gradient(top, #a7cfdf, #23538a)"},t.onmouseover=function(){this.style.border="1px solid #5ca6c4",this.style.backgroundColor="#82bbd1",this.style.backgroundImage="-moz-linear-gradient(top, #82bbd1, #193b61)"})}function resize(){return __$("main")?(__$("main").style.height=window.innerHeight-20+"px",__$("display")&&(__$("display").style.height=window.innerHeight-150+"px"),void(__$("__content")&&__$("display")&&(__$("__content").style.width=window.innerWidth-22+"px",__$("__content").style.height=window.innerHeight-170+"px",__$("main-content-area")&&(__$("main-content-area").style.height=window.innerHeight-170-50-300+"px")))):void setTimeout("resize()",100)}function loadPage(section,back){if(!isNaN(section)){if(void 0==back&&(back=!1),currentPage=section,__$("__content"))__$("__content").innerHTML="";else{var content=document.createElement("div");content.id="__content",content.style.width=window.innerWidth-12+"px",content.style.height=window.innerHeight-12+"px",__$("display")?__$("display").appendChild(content):document.body.appendChild(content),document.body.style.margin="5px"}var main=document.createElement("div");main.style.display="table",main.style.width="100%",main.style.height="100%",main.style.borderSpacing="5px",__$("__content").appendChild(main);var row0=document.createElement("div");row0.style.display="table-row",main.appendChild(row0);var cell0_1=document.createElement("div");cell0_1.style.display="table-cell",cell0_1.style.borderBottom="1px solid #3465a4",cell0_1.style.color="#3465a4",cell0_1.style.overflow="hidden",cell0_1.style.fontSize="36px",cell0_1.style.height="50px",cell0_1.innerHTML=fieldsets[section].getElementsByTagName("legend")[0].innerHTML.trim().length>50?fieldsets[section].getElementsByTagName("legend")[0].innerHTML.substr(0,50)+"...":fieldsets[section].getElementsByTagName("legend")[0].innerHTML,__$("legend")&&(__$("legend").innerHTML=(fieldsets[section].getElementsByTagName("legend")[0].innerHTML.trim().length>50?fieldsets[section].getElementsByTagName("legend")[0].innerHTML.substr(0,50)+"...":fieldsets[section].getElementsByTagName("legend")[0].innerHTML)+"<p style='color: red; font-style: italic; font-size: 12px;'>* "+I18n.t("forms.legends.required_fields")+".</p>");var row1=document.createElement("div");row1.style.display="table-row",main.appendChild(row1);var cell1_1=document.createElement("div");cell1_1.style.display="table-cell",cell1_1.style.borderBottom="1px solid #3465a4",row1.appendChild(cell1_1);var row2=document.createElement("div");row2.style.display="table-row",main.appendChild(row2);var cell2_1=document.createElement("div");cell2_1.style.display="table-cell",cell2_1.style.height="300px",row2.appendChild(cell2_1);var table=document.createElement("div");table.style.display="table",table.style.width="100%",table.style.height="100%",cell2_1.appendChild(table);var row=document.createElement("div");row.style.display="table-row",table.appendChild(row);var stage=document.createElement("div");stage.style.display="table-cell",stage.style.border="1px solid #3465a4",stage.style.overflow="hidden",stage.style.borderRadius="10px",stage.innerHTML="&nbsp;",stage.id="stage",stage.style.textAlign="center",stage.style.verticalAlign="top",stage.style.height="300px",row.appendChild(stage);var toolsTable=document.createElement("div");toolsTable.style.display="table",toolsTable.width="100%",toolsTable.height="100%",toolsTable.style.margin="auto",toolsTable.style.marginTop="0px",stage.appendChild(toolsTable);var toolsCell1=document.createElement("div");toolsCell1.style.display="table-cell",toolsCell1.style.borderRadius="10px",toolsCell1.style.width=window.innerWidth-750+"px",toolsCell1.style.height="280px",toolsCell1.style.overflow="auto",toolsCell1.style.textAlign="left",toolsCell1.id="toolsCell1",toolsTable.appendChild(toolsCell1);var toolsCell2=document.createElement("div");toolsCell2.style.display="table-cell",toolsCell2.style.borderRadius="10px",toolsCell2.style.width="750px",toolsCell2.style.height="280px",toolsCell2.id="toolsCell2",toolsTable.appendChild(toolsCell2);var buttons=document.createElement("div");buttons.style.display="table-cell",buttons.style.border="1px solid #3465a4",buttons.style.overflow="hidden",buttons.style.borderRadius="10px",buttons.style.width="120px",buttons.style.height="100%",buttons.style.verticalAlign="middle",row.appendChild(buttons);var btntable=document.createElement("div");btntable.style.display="table",btntable.style.margin="auto",btntable.style.borderSpacing="5px",btntable.style.width="100%",buttons.appendChild(btntable);var brow0=document.createElement("div");brow0.style.display="table-row",btntable.appendChild(brow0);var bcell0=document.createElement("div");bcell0.style.display="table-cell",bcell0.id="btn0",brow0.appendChild(bcell0);var brow1=document.createElement("div");brow1.style.display="table-row",btntable.appendChild(brow1);var bcell1=document.createElement("div");bcell1.style.display="table-cell",bcell1.id="btn1",brow1.appendChild(bcell1);var brow2=document.createElement("div");brow2.style.display="table-row",btntable.appendChild(brow2);var bcell2=document.createElement("div");bcell2.style.display="table-cell",bcell2.id="btn2",brow2.appendChild(bcell2);var brow3=document.createElement("div");brow3.style.display="table-row",btntable.appendChild(brow3);var bcell3=document.createElement("div");bcell3.style.display="table-cell",bcell3.id="btn3",brow3.appendChild(bcell3),btnCancel=addButton(__$("btn0"),I18n.t("forms.buttons.cancel"),"red"),btnClear=addButton(__$("btn1"),I18n.t("forms.buttons.clear"),"blue"),btnBack=addButton(__$("btn2"),I18n.t("forms.buttons.back"),"gray"),btnNext=addButton(__$("btn3"),I18n.t("forms.buttons.next"),"green"),btnCancel&&(btnCancel.style.width="98%",btnCancel.style.fontSize="22px",btnCancel.onmousedown=function(){var t=I18n.t("messages.cancel"),e="if (typeof(cancelDestination) != 'undefined') { window.location = cancelDestination; }";showMsgForAction(t,e)}),btnClear&&(btnClear.style.width="98%",btnClear.style.fontSize="22px"),btnBack&&(btnBack.style.width="98%",btnBack.style.fontSize="22px"),btnNext&&(btnNext.style.width="98%",btnNext.style.fontSize="22px");var fields=navigablefieldsets[section],mainContentArea=document.createElement("div");mainContentArea.style.overflowY="auto",mainContentArea.id="main-content-area",mainContentArea.style.height=window.innerHeight-40-50-300+"px",mainContentArea.style.width="100%",cell1_1.appendChild(mainContentArea);var work=document.createElement("div");if(work.id="work",work.style.display="table",work.style.width="99.5%",mainContentArea.appendChild(work),null!=fieldsets[section].getAttribute("custom"))null!=fieldsets[section].getAttribute("fs_onLoad")&&eval(fieldsets[section].getAttribute("fs_onLoad"));else for(var i=0;i<fields.length;i++)if(("radio"!=fields[i].type||!__$("btn"+fields[i].id))&&"hidden"!=fields[i].type){var row=document.createElement("div");row.style.display="table-row",work.appendChild(row);for(var j=0;4>j;j++){var cell=document.createElement("div");switch(cell.style.display="table-cell",j){case 0:cell.style.width="40%",cell.style.textAlign="right",cell.style.padding="20px",cell.id="cell"+i+"."+j;var label=addLabel(cell,void 0!=fields[i].label?processLabelText(fields[i].label.innerHTML)+(null==fields[i].getAttribute("optional")?"<span style='color: red;'> *</span>":""):"Undefined",textSize,"#333");break;case 1:cell.innerHTML="&nbsp;",cell.style.width="50px",cell.style.textAlign="center",cell.style.color="blue",cell.style.fontSize="24px",cell.id="cell"+i+"."+j;break;case 3:cell.innerHTML="&nbsp;",cell.style.width="80px",cell.style.textAlign="center",cell.style.verticalAlign="middle",cell.id="cell"+i+"."+j;break;case 2:if(cell.id="cell"+i+"."+j,"radio"==fields[i].type){for(var labels=document.getElementsByTagName("LABEL"),s=0;s<labels.length;s++)if(""!=labels[s].htmlFor&&labels[s].htmlFor==fields[i].name&&__$("cell"+i+".0")){__$("cell"+i+".0").innerHTML="";var label=addLabel(__$("cell"+i+".0"),labels[s].innerHTML,textSize,"#333");break}var btns=document.getElementsByName(fields[i].name),choiceTable=document.createElement("div");choiceTable.style.display="table",cell.appendChild(choiceTable);var choiceRow=document.createElement("table-row");choiceRow.style.display="table-row",choiceTable.appendChild(choiceRow);for(var r=0;r<btns.length;r++){var choiceCell=document.createElement("table-cell");choiceCell.style.display="table-cell",choiceRow.appendChild(choiceCell);var btnChoice=addButton(choiceCell,btns[r].label.innerHTML,btns[r].checked?"orange":"blue");btnChoice.style.fontSize="20px",btnChoice.style.height="60px",btnChoice.name="btn"+btns[r].name,btnChoice.id="btn"+btns[r].id,btnChoice.setAttribute("target",btns[r].id),btnChoice.setAttribute("pos",i),btnChoice.setAttribute("section",section),btnChoice.onmousedown=function(){for(var t=document.getElementsByName(this.name),e=0;e<t.length;e++)t[e].className="button blue";__$(this.getAttribute("target"))&&(__$(this.getAttribute("target")).click(),this.className="button orange"),cursorPos=parseInt(this.getAttribute("pos"));var i=parseInt(this.getAttribute("section"));navigateTo(cursorPos,i)}}}else{var fieldtype=fields[i].getAttribute("fieldtype"),callback=fields[i].getAttribute("callback"),txt=addTextbox(cell,fieldtype,fields[i].id,null!=callback?callback:void 0);if(txt.style.fontSize=textSize,txt.id="textFor"+fields[i].id,txt.setAttribute("target",fields[i].id),txt.setAttribute("pos",i),null!=fields[i].getAttribute("placeholder")&&txt.setAttribute("placeholder",I18n.t("forms.place_holders."+fields[i].getAttribute("placeholder").toLowerCase().split(" ").join("_"))),txt.setAttribute("section",section),null!=fields[i].getAttribute("ajaxURL")?txt.setAttribute("ajaxURL",fields[i].getAttribute("ajaxURL")):null!=fields[i].getAttribute("ajaxUrl")?txt.setAttribute("ajaxURL",fields[i].getAttribute("ajaxUrl")):null!=fields[i].getAttribute("ajaxurl")&&txt.setAttribute("ajaxURL",fields[i].getAttribute("ajaxurl")),"select"==fields[i].tagName.toLowerCase()&&"select-multiple"==fields[i].type.toLowerCase()){for(var values="",opts=fields[i].options,k=0;k<opts.length;k++)opts[k].selected&&(values+=opts[k].innerHTML+";");txt.value=values}else txt.value=fields[i].value;txt.onfocus=function(){if(!buttonNavigation&&null!=validationControl&&validationControl.id!=this.id&&!navigatingBack){var canGo=clickCanGo();if(!canGo)return void validationControl.focus()}buttonNavigation=!1;var m=checkCtrl(__$("main-content-area")),c=checkCtrl(this);m[2]+m[1]<c[2]+c[1]?__$("main-content-area").scrollTop+=60:m[2]+m[1]>c[2]&&(__$("main-content-area").scrollTop-=60),cursorPos=parseInt(this.getAttribute("pos"));var section=parseInt(this.getAttribute("section"));navigatingBack=!1,validationControl=this,null!=navigablefieldsets[section][cursorPos].getAttribute("condition")&&checkConditions(),navigateTo(cursorPos,section),null!=this.getAttribute("callback")&&eval(this.getAttribute("callback"))}}}row.appendChild(cell)}}cursorPos=0,navigatingBack&&([cursorPos,section]=getValidPreviousValue(fields.length-1,section)),checkConditions(),navigateTo(cursorPos,section,back),clearMarks(currentPage)}}function navigateTo(pos,section,back){void 0==back&&(back=!1),timers={};for(var t in timerHandles)clearTimeout(timerHandles[t]);if(cursorPos=pos,timerHandles={},__$("popupkeyboard")&&document.body.removeChild(__$("popupkeyboard")),null!=fieldsets[section].getAttribute("condition")&&!eval(fieldsets[section].getAttribute("condition"))&&!back)return void loadPage(section+1);var fields=navigablefieldsets[section];if(void 0==fields[pos]||null==fields[pos].getAttribute("disabled")){var fieldtype=void 0!=fields[pos]?fields[pos].getAttribute("fieldtype"):null;if(!__$("cursor")){var cursor=document.createElement("label");cursor.id="cursor",cursor.innerHTML="&#9654;",document.body.appendChild(cursor)}if(__$("cell"+pos+".1")&&__$("cell"+pos+".1").appendChild(__$("cursor")),null==fieldsets[section].getAttribute("custom")&&__$("toolsCell2")&&__$("toolsCell1")&&(__$("toolsCell2").innerHTML="&nbsp;",__$("toolsCell1").innerHTML="&nbsp;"),void 0!=fields[pos]&&__$("toolsCell2")&&__$("toolsCell1")&&__$("textFor"+fields[pos].id)){if(clearTimeout(tracker),tracker=setTimeout("checkChanges('"+fields[pos].id+"')",500),__$("toolsCell2").style.verticalAlign="middle",__$("toolsCell1").style.verticalAlign="middle",null!=btnClear&&(btnClear.setAttribute("pos",pos),btnClear.setAttribute("section",section),btnClear.onmousedown=function(){if(validatingAlready=!1,null!=this.getAttribute("pos")&&null!=this.getAttribute("section")){var t=parseInt(this.getAttribute("pos")),e=parseInt(this.getAttribute("section")),i=navigablefieldsets[e];if(__$("textFor"+i[t].id).value="","select"==i[t].tagName.toLowerCase()||null!=i[t].getAttribute("ajaxURL")||null!=i[t].getAttribute("ajaxurl")||null!=i[t].getAttribute("ajaxUrl"))for(var r=t+1;r<i.length;r++)i[r].value="",__$("textFor"+i[r].id)&&(__$("textFor"+i[r].id).value="");if("select"==i[t].tagName.toLowerCase())for(var a=i[t].options,o=0;o<a.length;o++)a[o].selected=!1;else i[t].value="";navigateTo(t,e)}validatingAlready=!1}),null!=btnBack){if(fields[pos-1])if("radio"==fields[pos-1].type){var radios=document.getElementsByName(fields[pos-1].name);btnBack.setAttribute("step",radios.length)}else btnBack.removeAttribute("step");else btnBack.removeAttribute("step");btnBack.setAttribute("pos",pos),btnBack.setAttribute("section",section),section>0&&pos>0||0==section&&pos>0?(btnBack.className="button blue",btnBack.onmousedown=function(){navigatingBack=!0,incomplete=!1;var t=parseInt(this.getAttribute("pos"))-(null!=this.getAttribute("step")?parseInt(this.getAttribute("step")):1),e=parseInt(this.getAttribute("section"));[t,e]=getValidPreviousValue(t,e),navigateTo(t,e,!0)}):section>0&&0==pos?(btnBack.className="button blue",btnBack.onmousedown=function(){navigatingBack=!0,incomplete=!1;var t=parseInt(this.getAttribute("section"))-1,e=getValidPreviousSection(t);loadPage(e,!0)}):(btnBack.className="button gray",btnBack.onmousedown=function(){})}null!=btnNext&&(btnNext.setAttribute("pos",pos),btnNext.setAttribute("section",section),section<fieldsets.length&&pos<fields.length-1?btnNext.innerHTML=I18n.t("forms.buttons.next"):section<fieldsets.length-1&&pos==fields.length-1||section==fieldsets.length-1&&pos<fields.length-1?btnNext.innerHTML=I18n.t("forms.buttons.next"):btnNext.innerHTML=I18n.t("forms.buttons.finish"),btnNext.onmousedown=function(){if(buttonNavigation=!0,null!=validationControl&&validationControl.id!=this.id&&!navigatingBack){var t=clickCanGo();if(!t)return}gotoQuestion(pos,section)}),loadControlKeys(fields,fieldtype,pos),null!=fields[pos].getAttribute("tt_onload")&&eval(fields[pos].getAttribute("tt_onload"))}if(null==validationControl||null==validationControl.getAttribute("ajaxURL")&&null==validationControl.getAttribute("ajaxUrl")&&null==validationControl.getAttribute("ajaxurl")||checkLookup(validationControl.getAttribute("target")),void 0!=fields[pos]&&__$("textFor"+fields[pos].id)){__$("textFor"+fields[pos].id).focus();var m=checkCtrl(__$("main-content-area")),c=checkCtrl(__$("textFor"+fields[pos].id));m[2]+m[1]<c[2]+c[1]?__$("main-content-area").scrollTop+=60:m[2]+m[1]>c[2]&&(__$("main-content-area").scrollTop-=60)}resize()}else if(pos+1<fields.length-1)navigateTo(pos+1,section);else if(section+1<fieldsets.length){if(!back){if(checkValidity(),incomplete)return;loadPage(section+1)}}else{if(checkValidity(),incomplete)return;Object.keys(summaryHash).length>0?submitAfterSummary():document.forms[0].submit()}}function loadControlKeys(t,e,i){if(null!=e)switch(e.toLowerCase()){case"age":__$("toolsCell1").innerHTML="",addAge(__$("toolsCell2"),t[i],isNaN(new Date(__$("textFor"+t[i].id).value.trim()).getDay())?void 0:__$("textFor"+t[i].id).value.trim(),"Specify Actual Date of Birth","Age");break;case"select":var r=t[i].options,a={},o={};__$("textFor"+t[i].id).value="";for(var n="select-multiple"==t[i].type.toLowerCase()?"multiple":"single",l=0;l<r.length;l++)r[l].innerHTML.trim().length&&(a[r[l].value]=r[l].innerHTML,r[l].selected&&(o[r[l].value]=!0,__$("textFor"+t[i].id).value+=r[l].innerHTML+("multiple"==n?";":"")));__$("toolsCell2").innerHTML="",__$("toolsCell1").innerHTML="",__$("toolsCell1").style.verticalAlign="top";var s=addCombo(__$("toolsCell1"),a,n,__$("textFor"+t[i].id),t[i],!1,null!=t[i].getAttribute("onchange")?t[i].getAttribute("onchange"):void 0,void 0,o);s.style.fontSize=textSize,s.style.textAlign="left";break;case"barcode":__$("toolsCell2").innerHTML="",__$("toolsCell1").innerHTML="";break;case"date":__$("toolsCell2").innerHTML="",__$("toolsCell1").innerHTML="";var d=addDate(__$("toolsCell2"),t[i],__$("textFor"+t[i].id).value);d.style.margin="auto";break;case"number":__$("toolsCell1").innerHTML="",showFixedKeyboard(__$("textFor"+t[i].id),__$("toolsCell2"),{"/":!0,":":!0,abc:!0,".":!0},!0);break;case"decimal":__$("toolsCell1").innerHTML="",showFixedKeyboard(__$("textFor"+t[i].id),__$("toolsCell2"),{"/":!0,":":!0,abc:!0},!0);break;default:var u=null!=t[i].getAttribute("textCase")&&"lower"==t[i].getAttribute("textCase").trim().toLowerCase()?!0:!1;__$("toolsCell1").innerHTML="",showFixedKeyboard(__$("textFor"+t[i].id),__$("toolsCell2"),{"/":!0,":":!0},!1,u)}else if("select"==t[i].tagName.toLowerCase()){var r=t[i].options,a={},o={};__$("textFor"+t[i].id).value="";for(var n="select-multiple"==t[i].type.toLowerCase()?"multiple":"single",l=0;l<r.length;l++)r[l].innerHTML.trim().length&&(a[r[l].value]=r[l].innerHTML,r[l].selected&&(o[r[l].value]=!0,__$("textFor"+t[i].id).value+=r[l].innerHTML+("multiple"==n?";":"")));__$("toolsCell2").innerHTML="&nbsp",__$("toolsCell1").innerHTML="&nbsp",__$("toolsCell1").style.verticalAlign="top";var s=addCombo(__$("toolsCell1"),a,n,__$("textFor"+t[i].id),t[i],!1,void 0,null!=t[i].getAttribute("onchange")?t[i].getAttribute("onchange"):void 0,o);s.style.fontSize=textSize,s.style.textAlign="left"}else{var u=null!=t[i].getAttribute("textCase")&&"lower"==t[i].getAttribute("textCase").trim().toLowerCase()?!0:!1;showFixedKeyboard(__$("textFor"+t[i].id),__$("toolsCell2"),{"/":!0,":":!0},!1,u)}}function gotoQuestion(pos,section){pos=parseInt(pos),section=parseInt(section);var fields=navigablefieldsets[section];if(fields[pos]&&null!=fields[pos].getAttribute("tt_onUnload")&&eval(fields[pos].getAttribute("tt_onUnload")),incomplete=!1,section<fieldsets.length&&pos<fields.length-1)pos++,[pos,section]=getValidNextValue(pos,section),__$("textFor"+navigablefieldsets[section][pos].id)&&null==__$("textFor"+navigablefieldsets[section][pos].id).getAttribute("disabled")&&null==navigablefieldsets[section][pos].getAttribute("condition")?__$("textFor"+navigablefieldsets[section][pos].id).focus():(null!=navigablefieldsets[section][pos].getAttribute("condition")&&checkConditions(),navigateTo(pos,section));else if(section<fieldsets.length-1&&pos==fields.length-1||section==fieldsets.length-1&&pos<fields.length-1)checkValidity(),incomplete||(section++,loadPage(section));else{if(checkValidity(),incomplete)return;Object.keys(summaryHash).length>0?submitAfterSummary():document.forms[0].submit()}var fieldtype=void 0!=fields[pos]?fields[pos].getAttribute("fieldtype"):null}function getValidNextValue(pos,section){for(var new_pos,new_section,fields=navigablefieldsets[section],i=parseInt(pos);i<fields.length;i++){if(null==fields[i].getAttribute("condition")){new_pos=i,new_section=section;break}if(eval(fields[i].getAttribute("condition"))){new_pos=i,new_section=section;break}}return void 0==new_pos&&void 0==new_section?(new_pos=0,new_section=section+1,loadLabels(new_section),[pos,section]):[new_pos,new_section]}function getValidPreviousValue(pos,section){for(var new_pos,new_section,fields=navigablefieldsets[section],i=parseInt(pos);i>=0;i--){if(null==fields[i].getAttribute("condition")){new_pos=i,new_section=section;break}if(eval(fields[i].getAttribute("condition"))){new_pos=i,new_section=section;break}}return void 0==new_pos&&void 0==new_section?(new_pos=0,new_section=getValidPreviousSection(section),loadLabels(new_section),[pos,section]):[new_pos,new_section]}function getValidPreviousSection(section){return section=parseInt(section),null!=fieldsets[section].getAttribute("condition")?eval(fieldsets[section].getAttribute("condition"))?section:section>0?(section-=1,getValidPreviousSection(section)):section:section}function checkChanges(t){if(clearTimeout(tracker),__$(t)&&__$("textFor"+t))if("select"==__$(t).tagName.toLowerCase()&&"select-multiple"==__$(t).type){for(var e=__$("textFor"+t).value.trim().split(";"),i={},r=0;r<e.length;r++)i[e[r].trim()]=!0;for(var a=__$(t).options,r=0;r<a.length;r++)a[r].innerHTML.trim()==i[a[r].innerHTML.trim()]?a[r].selected=!0:a[r].selected=!1}else __$(t).value=__$("textFor"+t).value;__$(t)&&setTimeout("checkChanges('"+t+"')",1e3)}function checkValidity(){var fields=navigablefieldsets[currentPage];incomplete=!1;for(var i=0;i<fields.length;i++)if(null!=fields[i].getAttribute("condition")&&(eval(fields[i].getAttribute("condition"))?(__$("textFor"+fields[i].id)?__$("textFor"+fields[i].id).removeAttribute("disabled"):"radio"==fields[i].type&&__$("btn"+fields[i].id)&&__$("btn"+fields[i].id).getAttribute("disabled")&&(__$("btn"+fields[i].id).removeAttribute("disabled"),__$("btn"+fields[i].id).className="button blue"),__$("cell"+i+".0")&&(__$("cell"+i+".0").style.opacity="1"),fields[i].removeAttribute("disabled")):(__$("textFor"+fields[i].id)?(__$("textFor"+fields[i].id).value="",fields[i].id.value="",__$("textFor"+fields[i].id).setAttribute("disabled",!0)):"radio"==fields[i].type&&(fields[i].checked=!1,__$("btn"+fields[i].id)&&(__$("btn"+fields[i].id).setAttribute("disabled",!0),__$("btn"+fields[i].id).className="button gray")),__$("cell"+i+".0")&&(__$("cell"+i+".0").style.opacity="0.4"),fields[i].setAttribute("disabled",!0))),"radio"==fields[i].type){for(var radios=document.getElementsByName(fields[i].name),checked=!1,disabled=!1,j=0;j<radios.length;j++){if(null!=radios[j].getAttribute("disabled")){disabled=!0;break}if(radios[j].checked){checked=!0;break}}__$("cell"+i+".3")&&!disabled?checked?__$("cell"+i+".3").innerHTML="<img src='"+imgTick+"' height=60 />":(__$("cell"+i+".3").innerHTML="<img src='"+imgUnTick+"' height=60 />",incomplete=!0):__$("cell"+i+".3")&&(__$("cell"+i+".3").innerHTML="")}else if(null!=fields[i].getAttribute("uniq_check"))changedTracker!=__$("textFor"+fields[i].id).value.trim()?checkUniqueness(fields[i].getAttribute("uniq_check")+__$("textFor"+fields[i].id).value.trim(),__$("textFor"+fields[i].id),__$("cell"+i+".3")):0==__$("textFor"+fields[i].id).value.trim().length?(__$("cell"+i+".3").innerHTML="<img src='"+imgUnTick+"' height=60 />",incomplete=!0):incomplete=localCheck,changedTracker=__$("textFor"+fields[i].id).value.trim();else if(null==fields[i].getAttribute("optional"))if(null==fields[i].getAttribute("disabled")&&__$("textFor"+fields[i].id)){if(null!=fields[i].getAttribute("regex"))null==__$("textFor"+fields[i].id).value.trim().match(fields[i].getAttribute("regex"))?(__$("cell"+i+".3").innerHTML="<img src='"+imgUnTick+"' height=60 />",incomplete=!0):__$("cell"+i+".3").innerHTML="<img src='"+imgTick+"' height=60 />";else if(0==__$("textFor"+fields[i].id).value.trim().length)__$("cell"+i+".3").innerHTML="<img src='"+imgUnTick+"' height=60 />",
incomplete=!0;else if(null!=fields[i].getAttribute("fieldtype")&&"number"==fields[i].getAttribute("fieldtype").toLowerCase()&&null==__$("textFor"+fields[i].id).value.trim().match(/^\d+$/))__$("cell"+i+".3").innerHTML="<img src='"+imgUnTick+"' height=60 />",incomplete=!0;else if(null==fields[i].getAttribute("fieldtype")||"date"!=fields[i].getAttribute("fieldtype").toLowerCase()&&"age"!=fields[i].getAttribute("fieldtype").toLowerCase())__$("cell"+i+".3").innerHTML="<img src='"+imgTick+"' height=60 />";else if(null==__$("textFor"+fields[i].id).value.trim().match(/^(\d|\d{2}|\?)\/([A-Za-z]{3}|\?)\/(\d{4}|\?)$/)?(__$("cell"+i+".3").innerHTML="<img src='"+imgUnTick+"' height=60 />",incomplete=!0):__$("cell"+i+".3").innerHTML="<img src='"+imgTick+"' height=60 />",null!=fields[i].getAttribute("absolute_max")&&null!=fields[i].getAttribute("absolute_min")){var current_set_date=new Date(__$("textFor"+fields[i].id).value.trim()),absolute_max_date=new Date(fields[i].getAttribute("absolute_max").toLowerCase()),absolute_mini_date=new Date(fields[i].getAttribute("absolute_min").toLowerCase());current_set_date>absolute_max_date||absolute_mini_date>current_set_date?(__$("cell"+i+".3").innerHTML="<img src='"+imgUnTick+"' height=60 />",incomplete=!0):__$("cell"+i+".3").innerHTML="<img src='"+imgTick+"' height=60 />"}}else __$("cell"+i+".3")&&(__$("cell"+i+".3").innerHTML="");else null==fields[i].getAttribute("disabled")&&__$("textFor"+fields[i].id)?null!=fields[i].getAttribute("regex")?__$("textFor"+fields[i].id).value.trim().length>0?null==__$("textFor"+fields[i].id).value.trim().match(fields[i].getAttribute("regex"))?(__$("cell"+i+".3").innerHTML="<img src='"+imgUnTick+"' height=60 />",incomplete=!0):__$("cell"+i+".3").innerHTML="<img src='"+imgTick+"' height=60 />":__$("cell"+i+".3").innerHTML="&nbsp;":0==__$("textFor"+fields[i].id).value.trim().length&&(__$("cell"+i+".3").innerHTML="&nbsp;"):__$("cell"+i+".3")&&(__$("cell"+i+".3").innerHTML="")}function checkUniqueness(t,e,i){value=e.value,window.XMLHttpRequest?xmlhttp=new XMLHttpRequest:xmlhttp=new ActiveXObject("Microsoft.XMLHTTP"),xmlhttp.onreadystatechange=function(){if(4==xmlhttp.readyState&&200==xmlhttp.status){var t=xmlhttp.responseText;"N/A"==t||0==t.trim().length?(incomplete=!0,localCheck=!0,e.value.trim().length>0?i.innerHTML="<img src='"+imgUnTick+"' height=60 />":null!=e.getAttribute("optional")&&(i.innerHTML="<img src='"+imgTick+"' height=60 />")):(localCheck=!1,e.value.trim().length>0&&(i.innerHTML="<img src='"+imgTick+"' height=60 />"))}},xmlhttp.open("GET",t,!0),xmlhttp.send()}function showShield(action,clickCloses){if(void 0==clickCloses&&(clickCloses=!0),__$("shield"))__$("popup")&&document.body.removeChild(__$("popup")),__$("popupkeyboard")&&(void 0!=action&&eval(action),document.body.removeChild(__$("popupkeyboard"))),document.body.removeChild(__$("shield"));else{var shield=document.createElement("div");shield.style.position="absolute",shield.style.backgroundColor="rgba(0,0,0,0.5)",shield.style.top="0px",shield.style.left="0px",shield.style.width="100%",shield.style.height="100%",shield.id="shield",void 0!=action&&shield.setAttribute("action",action),clickCloses&&(shield.onmousedown=function(){null!=this.getAttribute("action")?showShield(this.getAttribute("action")):showShield()}),document.body.appendChild(shield)}}function loadAjax(t,e,i,r,a){var o;window.XMLHttpRequest&&(o=new XMLHttpRequest),trackingString=a.trim(),o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){for(var r=o.responseText,n=r.split("\n"),l={},s=0;s<n.length;s++)n[s].toLowerCase().match(a.toLowerCase())&&(l[n[s]]=n[s]);if(t.trim().toLowerCase()!=validationControl.id.trim().toLowerCase())return;__$("toolsCell1")?(__$("toolsCell1").innerHTML="",addCombo(__$("toolsCell1"),l,"single",e,i,!0,t,"clearLookup('"+t+"')")):addList(__$(t),l,"single",e,i,"clearLookup('"+t+"')",__$("main-content-area").offsetHeight-50+"px",__$(t).offsetWidth+"px")}},o.open("GET",r+(r.trim().match(/\?.+/)?"&search"+a:"?search="+a),!0),o.send()}function clearLookup(t){__$(t)&&__$(t).removeAttribute("lookup")}function checkLookup(t){__$("textFor"+t)&&__$(t)&&null!=__$(t).getAttribute("ajaxURL")&&(null!=__$(t).getAttribute("ajaxURL")?loadAjax("textFor"+t,__$("textFor"+t),__$(t),__$(t).getAttribute("ajaxURL"),__$("textFor"+t).value.trim()):null!=__$(t).getAttribute("ajaxUrl")?loadAjax("textFor"+t,__$("textFor"+t),__$(t),__$(t).getAttribute("ajaxUrl"),__$("textFor"+t).value.trim()):null!=__$(t).getAttribute("ajaxurl")&&loadAjax("textFor"+t,__$("textFor"+t),__$(t),__$(t).getAttribute("ajaxurl"),__$("textFor"+t).value.trim()))}function clearUl(t){if(__$(t))for(var e=__$(t).children,i=0;i<e.length;i++)e[i].style.backgroundColor="odd"==e[i].getAttribute("tag")?"#eee":""}function checkScrolls(){__$("display")&&(__$("display").onscroll=function(){__$("popupkeyboard")&&document.body.removeChild(__$("popupkeyboard"))})}function showSpinner(){if(!document.getElementById("spin")){var t=document.createElement("div");t.id="spin",t.style.position="absolute",t.style.top=window.innerHeight/2-80+"px",t.style.left=window.innerWidth/2+"px",document.body.appendChild(t);var e={lines:15,length:15,width:8,radius:20,corners:1,rotate:0,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:25,left:25}}var i=document.getElementById("spin");spinner=new Spinner(e).spin(i),showShield()}function hideSpinner(){spinner.stop(),__$("shield")&&document.body.removeChild(__$("shield"))}function clickCanGo(){if(null!=validationControl){var i=validationControl.getAttribute("pos"),parent=null;if(null!=validationControl.getAttribute("target")&&(parent=__$(validationControl.getAttribute("target"))),null==parent)return!0;if(null==parent.getAttribute("optional")&&__$("textFor"+parent.id)&&0==__$("textFor"+parent.id).value.trim().length)return showMsg(I18n.t("messages.empty_field")),__$("cell"+i+".3")&&(null==parent.getAttribute("optional")?__$("cell"+i+".3").innerHTML="<img src='"+imgUnTick+"' height=60 />":__$("cell"+i+".3").innerHTML=""),!1;if(null==parent.getAttribute("optional")||null!=parent.getAttribute("optional")&&validationControl.value.trim().length>0){if(null!=parent.getAttribute("absolute_max"))if("date"==parent.getAttribute("fieldtype")||"age"==parent.getAttribute("fieldtype")){if(validationControl){var date=new Date(validationControl.value.trim()),absolute_date=new Date(parent.getAttribute("absolute_max"));if(date>absolute_date)return showMsg(I18n.t("messages.date_invalid")),__$("cell"+i+".3")&&(__$("cell"+i+".3").innerHTML="<img src='"+imgUnTick+"' height=60 />"),!1}}else if(validationControl&&eval(validationControl.value.trim())>eval(parent.getAttribute("absolute_max")))return showMsg("The value you have entered is greater than the expected value.\nPlease enter a valid value."),__$("cell"+i+".3")&&(__$("cell"+i+".3").innerHTML="<img src='"+imgUnTick+"' height=60 />"),!1;if(null!=parent.getAttribute("max"))if("date"==parent.getAttribute("fieldtype")||"age"==parent.getAttribute("fieldtype")){if(validationControl){var date=new Date(validationControl.value.trim()),max_date=new Date(parent.getAttribute("max"));if(date>max_date){var msg="The date you have entered is greater than the maximum required date.\nShould we keep the same value?",action="var i = "+i+'; var id = "'+parent.id+'"; __$(id).setAttribute("max", "'+validationControl.value.trim()+'"); __$("textFor" + id).setAttribute("max", "'+validationControl.value.trim()+'"); __$("cell" + i + ".3").innerHTML = "<img src=\''+imgTick+"' height=60 />\"; gotoNext();";return showMsgForAction(msg,action,void 0,void 0,"dontGo()"),!1}}}else if(validationControl&&eval(validationControl.value.trim())>eval(parent.getAttribute("max"))){var msg="The value you entered is greater than expected.\nShould we keep the same value?",action="var i = "+i+'; var id = "'+parent.id+'"; __$(id).setAttribute("max", "'+validationControl.value.trim()+'"); __$("textFor" + id).setAttribute("max", "'+validationControl.value.trim()+'"); __$("cell" + i + ".3").innerHTML = "<img src=\''+imgTick+"' height=60 />\"; gotoNext();";return showMsgForAction(msg,action),!1}if(null!=parent.getAttribute("absolute_min"))if("date"==parent.getAttribute("fieldtype")||"age"==parent.getAttribute("fieldtype")){if(validationControl){var date=new Date(validationControl.value.trim()),absolute_date=new Date(parent.getAttribute("absolute_min"));if(absolute_date>date)return showMsg("The date you have entered is less than the minimum required date.\nPlease enter a valid date"),__$("cell"+i+".3")&&(__$("cell"+i+".3").innerHTML="<img src='"+imgUnTick+"' height=60 />"),!1}}else if(validationControl&&eval(validationControl.value.trim())<eval(parent.getAttribute("absolute_min")))return showMsg("The date you entered is less than minimum allowable. \nPlease enter a valid date"),__$("cell"+i+".3")&&(__$("cell"+i+".3").innerHTML="<img src='"+imgUnTick+"' height=60 />"),!1;if(null!=parent.getAttribute("min"))if("date"==parent.getAttribute("fieldtype")||"age"==parent.getAttribute("fieldtype")){if(validationControl){var date=new Date(validationControl.value.trim()),min_date=new Date(parent.getAttribute("min"));if(min_date>date){var msg="The date you have entered is less than the minimum required date.\nShould we keep the same value?",action="var i = "+i+'; var id = "'+parent.id+'"; __$(id).setAttribute("min", "'+validationControl.value.trim()+'"); __$("textFor" + id).setAttribute("min", "'+validationControl.value.trim()+'"); __$("cell" + i + ".3").innerHTML = "<img src=\''+imgTick+"' height=60 />\"; gotoNext();";return showMsgForAction(msg,action,void 0,void 0,"dontGo()"),!1}}}else if(validationControl&&eval(validationControl.value.trim())<eval(parent.getAttribute("min"))){var msg="The value you entered is less than expected.\nShould we keep the same value?",action="var i = "+i+'; var id = "'+parent.id+'"; __$(id).setAttribute("min", "'+validationControl.value.trim()+'"); __$("textFor" + id).setAttribute("min", "'+validationControl.value.trim()+'"); __$("cell" + i + ".3").innerHTML = "<img src=\''+imgTick+"' height=60 />\"; gotoNext();";return showMsgForAction(msg,action),!1}if(null!=parent.getAttribute("regex")&&validationControl){var re=RegExp(parent.getAttribute("regex"));if(null==validationControl.value.trim().match(re))return showMsg(null!=parent.getAttribute("regex_message")?parent.getAttribute("regex_message"):"Please enter a value in the empty field."),__$("cell"+i+".3")&&(__$("cell"+i+".3").innerHTML="<img src='"+imgUnTick+"' height=60 />"),!1}__$("cell"+i+".3")&&(null==parent.getAttribute("optional")?__$("cell"+i+".3").innerHTML="<img src='"+imgTick+"' height=60 />":validationControl.value.trim().length>0?__$("cell"+i+".3").innerHTML="<img src='"+imgTick+"' height=60 />":__$("cell"+i+".3").innerHTML="")}}return validatingAlready=!1,!0}function showMsg(t){showShield(void 0,!0),__$("shield")||showShield(void 0,!0);var e=document.createElement("div");e.id="popup",e.style.position="absolute",e.style.minHeight="200px",e.style.top="20%",e.style.width="330px",e.style.left=(window.innerWidth-330)/2+"px",e.style.backgroundColor="#eee",e.style.zIndex=120,e.style.border="2px outset #eee",e.style.borderRadius="8px",document.body.appendChild(e);var i=document.createElement("table");i.width="100%",i.style.fontSize="24px",e.appendChild(i);var r=document.createElement("tbody");i.appendChild(r);var a=document.createElement("tr");r.appendChild(a);var o=document.createElement("th");o.innerHTML="Info",o.style.backgroundColor="#345d8c",o.style.color="#fff",o.style.borderTopLeftRadius="8px",o.style.borderTopRightRadius="8px",o.style.border="2px outset #23538a",o.colSpan="2",o.style.padding="5px",a.appendChild(o);var n=document.createElement("tr");r.appendChild(n);var l=document.createElement("td");l.colSpan="2",l.style.padding="5px",l.style.paddingTop="15px",l.style.paddingBottom="15px",l.align="center",l.innerHTML=t,l.style.lineHeight="120%",l.style.fontSize="20px",n.appendChild(l);var s=document.createElement("tr");r.appendChild(s);var d=document.createElement("td");d.align="center",d.style.padding="10px",d.colSpan="2",s.appendChild(d);var u=document.createElement("button");u.className="blue",u.innerHTML="OK",u.style.width="120px",u.style.cursor="pointer",u.style.fontSize="24px",u.style.minHeight="60px",d.appendChild(u),u.onmousedown=function(){__$("popup")&&document.body.removeChild(__$("popup")),__$("shield")&&document.body.removeChild(__$("shield"))}}function showMsgForAction(msg,action,width,title,noAction){showShield(void 0,!0),__$("shield")||showShield(void 0,!0);var popup=document.createElement("div");popup.id="popup",popup.style.position="absolute",popup.style.minHeight="200px",popup.style.top="20%",popup.style.left=(window.innerWidth-330)/2+"px",popup.style.backgroundColor="#eee",popup.style.zIndex=120,popup.style.border="2px outset #eee",popup.style.borderRadius="8px",document.body.appendChild(popup);var table=document.createElement("table");table.width="100%",table.style.fontSize="24px",popup.appendChild(table);var tbody=document.createElement("tbody");table.appendChild(tbody);var tr1=document.createElement("tr");tbody.appendChild(tr1);var th=document.createElement("th");th.innerHTML=void 0==title?"Info":title,th.style.backgroundColor="#345d8c",th.style.color="#fff",th.style.borderTopLeftRadius="8px",th.style.borderTopRightRadius="8px",th.style.border="2px outset #23538a",th.colSpan="2",th.style.padding="5px",tr1.appendChild(th);var tr2=document.createElement("tr");tbody.appendChild(tr2);var td1_1=document.createElement("td");td1_1.colSpan="2",td1_1.style.padding="5px",td1_1.style.paddingTop="15px",td1_1.style.paddingBottom="15px",td1_1.align="center",td1_1.innerHTML=msg,td1_1.style.lineHeight="120%",td1_1.style.fontSize="20px",tr2.appendChild(td1_1);var tr3=document.createElement("tr");tbody.appendChild(tr3);var td2_1=document.createElement("td");td2_1.align="center",td2_1.style.padding="10px",tr3.appendChild(td2_1);var td2_2=document.createElement("td");td2_2.align="center",td2_2.style.padding="10px",tr3.appendChild(td2_2);var btnNo=document.createElement("button");btnNo.className="blue",btnNo.innerHTML=I18n.t("forms.buttons.no_button"),btnNo.style.width="120px",btnNo.style.cursor="pointer",btnNo.style.fontSize="24px",btnNo.style.minHeight="60px",td2_2.appendChild(btnNo);var btnYes=document.createElement("button");if(btnYes.className="blue",btnYes.innerHTML=I18n.t("forms.buttons.yes_button"),btnYes.style.width="120px",btnYes.style.cursor="pointer",btnYes.style.fontSize="24px",btnYes.style.minHeight="60px",td2_2.appendChild(btnYes),btnYes.onmousedown=function(){__$("popup")&&document.body.removeChild(__$("popup")),__$("shield")&&document.body.removeChild(__$("shield")),eval(action)},btnNo.onmousedown=function(){__$("popup")&&document.body.removeChild(__$("popup")),__$("shield")&&document.body.removeChild(__$("shield")),void 0!=noAction&&eval(noAction)},__$("popup")){var c=checkCtrl(__$("popup"));c[1]>240&&(__$("popup").style.top=window.innerHeight/2-c[1]/2+"px"),c[0]>330&&(__$("popup").style.left=window.innerWidth/2-c[0]/2+"px")}}function checkConditions(){var fields=navigablefieldsets[currentPage];incomplete=!1;for(var i=0;i<fields.length;i++)null!=fields[i].getAttribute("condition")&&(eval(fields[i].getAttribute("condition"))?(__$("textFor"+fields[i].id)?__$("textFor"+fields[i].id).removeAttribute("disabled"):"radio"==fields[i].type&&__$("btn"+fields[i].id)&&__$("btn"+fields[i].id).getAttribute("disabled")&&(__$("btn"+fields[i].id).removeAttribute("disabled"),__$("btn"+fields[i].id).className="button blue"),__$("cell"+i+".0")&&(__$("cell"+i+".0").style.opacity="1"),fields[i].removeAttribute("disabled")):(__$("textFor"+fields[i].id)?(__$("textFor"+fields[i].id).value="",fields[i].id.value="",__$("textFor"+fields[i].id).setAttribute("disabled",!0),__$("cell"+i+".3")&&(__$("cell"+i+".3").innerHTML="")):"radio"==fields[i].type&&(fields[i].checked=!1,__$("btn"+fields[i].id)&&(__$("btn"+fields[i].id).setAttribute("disabled",!0),__$("btn"+fields[i].id).className="button gray")),__$("cell"+i+".0")&&(__$("cell"+i+".0").style.opacity="0.4"),fields[i].setAttribute("disabled",!0)))}function clearMarks(t){for(var e=navigablefieldsets[t],i=0;i<e.length;i++)__$("cell"+i+".3")&&(__$("cell"+i+".3").innerHTML="")}function toTitleCase(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})}function submitAfterSummary(){var t="",e=document.createElement("div"),i=document.createElement("div");i.style.height="200px",i.style.overflow="auto",e.appendChild(i);var r=document.createElement("table");r.style.width="100%",i.appendChild(r);var a=document.createElement("tbody");r.appendChild(a);for(var o=Object.keys(summaryHash),n=0;n<o.length;n++){var l=document.createElement("tr");a.appendChild(l);var s=document.createElement("th");s.align="right",s.innerHTML=o[n],l.appendChild(s);var d=document.createElement("td");d.innerHTML=":",l.appendChild(d);for(var u=document.createElement("td"),c="",p=0;p<summaryHash[o[n]].length;p++)__$(summaryHash[o[n]][p])&&(c=c.trim().length>0?c.trim()+" "+toTitleCase(__$(summaryHash[o[n]][p]).value):toTitleCase(__$(summaryHash[o[n]][p]).value.trim()));c=c.trim?c.trim():c.replace(/^\s+/,""),""==c&&(c="<span class='blank'>N/A</span>"),o[n].match(/weight/i)&&(c+=" Kg"),u.innerHTML=c,l.appendChild(u)}checkCtrl(e);t=e.innerHTML;var g="document.forms[0].submit();";showMsgForAction(t,g,"600px","Captured Data Summary")}function gotoNext(){__$("cell"+cursorPos+".3")&&(__$("cell"+cursorPos+".3").innerHTML="<img src='"+imgTick+"' height=60 />"),clickCanGo()&&gotoQuestion(cursorPos,currentPage)}function dontGo(){__$("cell"+cursorPos+".3")&&(__$("cell"+cursorPos+".3").innerHTML="<img src='"+imgUnTick+"' height=60 />"),navigateTo(cursorPos,currentPage)}function processLabelText(t){return I18n.t("forms.labels."+t.toLowerCase().trim().split(" ").join("_"))}var imgTick="data:image/png;base64,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",imgUnTick="data:image/png;base64,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",styles="body {-moz-user-select: none; overflow: hidden; font-family: 'Nimbus Sans L', 'Arial Narrow', sans-serif; min-width: 1250px; min-height: 700px; } .button:active {border:1px solid #5ca6c4 !important;background-color: #82bbd1 !important; background-image: -webkit-gradient(linear, left top, left bottom, from(#82bbd1), to(#cd8912)) !important;background-image: -webkit-linear-gradient(top, #82bbd1, #cd8912) !important;background-image: -moz-linear-gradient(top, #efb144, #cd8912) !important;background-image: -ms-linear-gradient(top, #efb144, #cd8912) !important;background-image: -o-linear-gradient(top, #efb144, #cd8912) !important;background-image: linear-gradient(to bottom, #efb144, #cd8912) !important;filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=#efb144, endColorstr=#cd8912) !important;} .input_cell {font-size: 1.2em;padding: 10px;border: 1px solid #3465a4;border-radius: 10px;width: 80%;}button {font-size: 1em;padding: 15px;min-width: 120px;cursor: pointer;min-height: 75px;border-radius: 10px !important;margin: 3px;}.button {font-size: 1em;padding: 15px;min-width: 100px;  cursor: pointer;  min-height: 60px;border-radius: 10px !important;margin: 3px;}.blue{border:1px solid #7eb9d0; -webkit-border-radius: 3px; -moz-border-radius: 3px;border-radius: 3px;font-size:28px;font-family:arial, helvetica, sans-serif; padding: 10px 10px 10px 10px; text-decoration:none; display:inline-block;text-shadow: -1px -1px 0 rgba(0,0,0,0.3);font-weight:bold; color: #FFFFFF;background-color: #a7cfdf; background-image: -webkit-gradient(linear, left top, left bottom, from(#a7cfdf), to(#23538a));background-image: -webkit-linear-gradient(top, #a7cfdf, #23538a);background-image: -moz-linear-gradient(top, #a7cfdf, #23538a);background-image: -ms-linear-gradient(top, #a7cfdf, #23538a);background-image: -o-linear-gradient(top, #a7cfdf, #23538a);background-image: linear-gradient(to bottom, #a7cfdf, #23538a);filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=#a7cfdf, endColorstr=#23538a);}.blue:hover{border:1px solid #5ca6c4;background-color: #82bbd1; background-image: -webkit-gradient(linear, left top, left bottom, from(#82bbd1), to(#193b61));background-image: -webkit-linear-gradient(top, #82bbd1, #193b61);background-image: -moz-linear-gradient(top, #82bbd1, #193b61);background-image: -ms-linear-gradient(top, #82bbd1, #193b61);background-image: -o-linear-gradient(top, #82bbd1, #193b61);background-image: linear-gradient(to bottom, #82bbd1, #193b61);filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=#82bbd1, endColorstr=#193b61);}.green{border:1px solid #34740e; -webkit-border-radius: 3px; -moz-border-radius: 3px;border-radius: 3px;font-size:28px;font-family:arial, helvetica, sans-serif; padding: 10px 10px 10px 10px; text-decoration:none; display:inline-block;text-shadow: -1px -1px 0 rgba(0,0,0,0.3);font-weight:bold; color: #FFFFFF;background-color: #4ba614; background-image: -webkit-gradient(linear, left top, left bottom, from(#4ba614), to(#008c00));background-image: -webkit-linear-gradient(top, #4ba614, #008c00);background-image: -moz-linear-gradient(top, #4ba614, #008c00);background-image: -ms-linear-gradient(top, #4ba614, #008c00);background-image: -o-linear-gradient(top, #4ba614, #008c00);background-image: linear-gradient(to bottom, #4ba614, #008c00);filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=#4ba614, endColorstr=#008c00);}.green:hover{border:1px solid #224b09;background-color: #36780f; background-image: -webkit-gradient(linear, left top, left bottom, from(#36780f), to(#005900));background-image: -webkit-linear-gradient(top, #36780f, #005900);background-image: -moz-linear-gradient(top, #36780f, #005900);background-image: -ms-linear-gradient(top, #36780f, #005900);background-image: -o-linear-gradient(top, #36780f, #005900);background-image: linear-gradient(to bottom, #36780f, #005900);filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=#36780f, endColorstr=#005900);}.red{border:1px solid #72021c; -webkit-border-radius: 3px; -moz-border-radius: 3px;border-radius: 3px;font-size:28px;font-family:arial, helvetica, sans-serif; padding: 10px 10px 10px 10px; text-decoration:none; display:inline-block;text-shadow: -1px -1px 0 rgba(0,0,0,0.3);font-weight:bold; color: #FFFFFF;background-color: #a90329; background-image: -webkit-gradient(linear, left top, left bottom, from(#a90329), to(#6d0019));background-image: -webkit-linear-gradient(top, #a90329, #6d0019);background-image: -moz-linear-gradient(top, #a90329, #6d0019);background-image: -ms-linear-gradient(top, #a90329, #6d0019);background-image: -o-linear-gradient(top, #a90329, #6d0019);background-image: linear-gradient(to bottom, #a90329, #6d0019);filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=#a90329, endColorstr=#6d0019);}.red:hover{border:1px solid #450111;background-color: #77021d; background-image: -webkit-gradient(linear, left top, left bottom, from(#77021d), to(#3a000d));background-image: -webkit-linear-gradient(top, #77021d, #3a000d);background-image: -moz-linear-gradient(top, #77021d, #3a000d);background-image: -ms-linear-gradient(top, #77021d, #3a000d);background-image: -o-linear-gradient(top, #77021d, #3a000d);background-image: linear-gradient(to bottom, #77021d, #3a000d);filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=#77021d, endColorstr=#3a000d);}.gray{border:1px solid #ccc; -webkit-border-radius: 3px; -moz-border-radius: 3px;border-radius: 3px;font-size:28px;font-family:arial, helvetica, sans-serif; padding: 10px 10px 10px 10px; text-decoration:none; display:inline-block;text-shadow: -1px -1px 0 rgba(0,0,0,0.3);font-weight:bold; color: #FFFFFF;background-color: #ccc; background-image: -webkit-gradient(linear, left top, left bottom, from(#ccc), to(#999));background-image: -webkit-linear-gradient(top, #ccc, #999);background-image: -moz-linear-gradient(top, #ccc, #999);background-image: -ms-linear-gradient(top, #ccc, #999);background-image: -o-linear-gradient(top, #ccc, #999);background-image: linear-gradient(to bottom, #ccc, #999);filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=#ccc, endColorstr=#999);}.gray:hover{border:1px solid #ccc;background-color: #ddd; background-image: -webkit-gradient(linear, left top, left bottom, from(#333), to(#ccc));background-image: -webkit-linear-gradient(top, #333, #ccc);background-image: -moz-linear-gradient(top, #333, #ccc);background-image: -ms-linear-gradient(top, #333, #ccc);background-image: -o-linear-gradient(top, #333, #ccc);background-image: linear-gradient(to bottom, #333, #ccc);filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=#333, endColorstr=#ccc);}.orange{border:1px solid #ef8544; -webkit-border-radius: 3px; -moz-border-radius: 3px;border-radius: 3px;font-size:28px;font-family:arial, helvetica, sans-serif; padding: 10px 10px 10px 10px; text-decoration:none; display:inline-block;text-shadow: -1px -1px 0 rgba(0,0,0,0.3);font-weight:bold; color: #FFFFFF;background-color: #ef8544; background-image: -webkit-gradient(linear, left top, left bottom, from(#ef8544), to(#efb144));background-image: -webkit-linear-gradient(top, #ef8544, #efb144);background-image: -moz-linear-gradient(top, #ef8544, #efb144);background-image: -ms-linear-gradient(top, #ef8544, #efb144);background-image: -o-linear-gradient(top, #ef8544, #efb144);background-image: linear-gradient(to bottom, #ef8544, #efb144);filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=#ef8544, endColorstr=#efb144);}.orange:hover{border:1px solid #ef8544;background-color: #ddd; background-image: -webkit-gradient(linear, left top, left bottom, from(#ff420e), to(#ef8544));background-image: -webkit-linear-gradient(top, #ff420e, #ef8544);background-image: -moz-linear-gradient(top, #ff420e, #ef8544);background-image: -ms-linear-gradient(top, #ff420e, #ef8544);background-image: -o-linear-gradient(top, #ff420e, #ef8544);background-image: linear-gradient(to bottom, #ff420e, #ef8544);filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=#ff420e, endColorstr=#ef8544);}",currentCaseUpper=!0,currentKeysNumeric=!1,currentKeysQWERTY=!0,months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthNames={Jan:0,Ene:0,Feb:1,Mar:2,Apr:3,Abr:3,May:4,Jun:5,Jul:6,Aug:7,Ago:7,Sep:8,Oct:9,Nov:10,Dec:11,Dic:11},timers={},timerHandles={},fieldsets=[],navigablefieldsets=[],currentPage=0,btnClear,btnBack,btnNext,textSize="24px",cursorPos=0,tracker,incomplete=!1,trackingString="",validityTmr,overwriteNumber=!0,validationControl,navigatingBack=!1,summaryHash={},buttonNavigation=!1,changedTracker="",localCheck=!1,spinner,validatingAlready=!1;setTimeout("checkScrolls()",500);